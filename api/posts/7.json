{"total":66,"pageSize":10,"pageCount":7,"data":[{"title":"layui完美分页，ajax请求分页（真分页）","slug":"layui-page-1.0","date":"2017-10-25T12:34:00.000Z","updated":"2022-12-01T01:32:39.787Z","comments":true,"top":null,"path":"api/articles/layui-page-1.0.json","excerpt":" [Figure] 注意使用的layui版本为：layui-v1.0.9，现在新版本已经2.X了有些属性改变了，如果你的版本是2.0以上请参照我的博客：《 layui完美分页，ajax请求分页（真分页） 【2.0版本】》","keywords":"java,spring,springboot,springcloud,mybatis,jQuery,html,css","cover":"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046774141068.jpg","content":"<p><img   class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046774388218.jpg\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"  alt=\"\"></p>\n<h3 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h3><p><strong>使用的layui版本为：layui-v1.0.9，现在新版本已经2.X了有些属性改变了，如果你的版本是2.0以上请参照我的博客：<a href=\"https://winterchens.github.io/2017/10/25/layui-page-2.0/\" target=\"_blank\" rel=\"noopener\">《 layui完美分页，ajax请求分页（真分页） 【2.0版本】》</a></strong></p>\n<a id=\"more\"></a>\n\n<p>这几天在工作当中需要使用分页控件，然后研究了一下layui的分页控件，这个控件页面非常简洁，功能齐全，而且可以通过异步进行数据的分页，如果大家遇到什么问题可以联系我 email：<a href=\"mailto:1085143002@qq.com\">1085143002@qq.com</a></p>\n<h3 id=\"完整代码：\"><a href=\"#完整代码：\" class=\"headerlink\" title=\"完整代码：\"></a>完整代码：</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">%@</span> <span class=\"hljs-attr\">page</span> <span class=\"hljs-attr\">language</span>=<span class=\"hljs-string\">\"java\"</span> <span class=\"hljs-attr\">contentType</span>=<span class=\"hljs-string\">\"text/html; charset=UTF-8\"</span> <span class=\"hljs-attr\">pageEncoding</span>=<span class=\"hljs-string\">\"UTF-8\"</span>%&gt;</span><br><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-meta-keyword\">html</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">\"en\"</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">\"UTF-8\"</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"renderer\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"webkit\"</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">http-equiv</span>=<span class=\"hljs-string\">\"X-UA-Compatible\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"IE=edge,chrome=1\"</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"viewport\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"width=device-width, initial-scale=1, maximum-scale=1\"</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"apple-mobile-web-app-status-bar-style\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"black\"</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"apple-mobile-web-app-capable\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"yes\"</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"format-detection\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"telephone=no\"</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span>  <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">\"icon\"</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"static/images/titleLogo.png\"</span>  /&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>门店管理后台<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">\"stylesheet\"</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"static/layui/plugins/layui/css/layui.css\"</span> <span class=\"hljs-attr\">media</span>=<span class=\"hljs-string\">\"all\"</span> /&gt;</span><br>    <span class=\"hljs-comment\">&lt;!-- &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"static/css/reset.css\"&gt;</span><br><span class=\"hljs-comment\">    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"static/css/commend.css\"&gt; --&gt;</span><br>    <span class=\"hljs-comment\">&lt;!-- &lt;link rel=\"stylesheet\" href=\"static/css/jqpagination.css\" /&gt; --&gt;</span><br>    <span class=\"hljs-comment\">&lt;!-- &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"static/css/shopCustomerManager.css\"&gt; --&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text/javascript\"</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"static/js/jquery-3.1.1.min.js\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text/javascript\"</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"static/layui/plugins/layui/layui.js\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span><br>    <span class=\"hljs-comment\">&lt;!-- &lt;script type=\"text/javascript\" src=\"static/js/jquery.jqpagination.js\"&gt;&lt;/script&gt; --&gt;</span><br>   \t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text/javascript\"</span>&gt;</span><br><span class=\"javascript\">\t   \t$(<span class=\"hljs-built_in\">document</span>).ready(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>)</span>&#123;</span><br><span class=\"actionscript\">\t   \t\t  <span class=\"hljs-comment\">//ajax请求后台数据</span></span><br>\t\t      getShopCustomerManagePageInfo();<br>\t\t      <br>\t\t<br><span class=\"actionscript\">\t   \t\t  <span class=\"hljs-comment\">//点击搜索时 搜索数据</span></span><br><span class=\"javascript\">\t   \t\t  $(<span class=\"hljs-string\">\"#selectButton\"</span>).click(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>)</span>&#123; </span><br>\t   \t\t\tgetShopCustomerManagePageInfo();<br><span class=\"actionscript\">\t   \t\t\tcurrentPageAllAppoint = <span class=\"hljs-number\">1</span>; <span class=\"hljs-comment\">//当点击搜索的时候，应该回到第一页</span></span><br><span class=\"actionscript\">\t   \t\t\ttoPage();<span class=\"hljs-comment\">//然后进行分页的初始化</span></span><br>\t   \t\t\t<br>\t   \t      &#125;)<br>\t   \t   toPage();<br>\t   \t&#125;);<br>\t   \t<br><span class=\"actionscript\">\t  \t<span class=\"hljs-comment\">//分页参数设置 这些全局变量关系到分页的功能</span></span><br><span class=\"actionscript\">\t   \t<span class=\"hljs-keyword\">var</span> startAllAppoint = <span class=\"hljs-number\">0</span>;</span><br><span class=\"actionscript\">\t   \t<span class=\"hljs-keyword\">var</span> limitAllAppoint = <span class=\"hljs-number\">10</span>;</span><br><span class=\"actionscript\">\t   \t<span class=\"hljs-keyword\">var</span> currentPageAllAppoint = <span class=\"hljs-number\">1</span>;</span><br><span class=\"actionscript\">\t   \t<span class=\"hljs-keyword\">var</span> totalPageAllAppoint = <span class=\"hljs-number\">0</span>;</span><br><span class=\"actionscript\">\t   \t<span class=\"hljs-keyword\">var</span> dataLength = <span class=\"hljs-number\">0</span>;</span><br><span class=\"actionscript\">\t   \t<span class=\"hljs-comment\">//ajax请求后台数据</span></span><br><span class=\"actionscript\">\t   \t<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getShopCustomerManagePageInfo</span><span class=\"hljs-params\">()</span></span>&#123;</span><br><span class=\"javascript\">\t   \t\t$.ajax(&#123;</span><br><span class=\"actionscript\">\t   \t\t\ttype:<span class=\"hljs-string\">\"post\"</span>,</span><br><span class=\"javascript\">\t   \t\t\t<span class=\"hljs-keyword\">async</span>:<span class=\"hljs-literal\">false</span>,</span><br><span class=\"actionscript\">\t   \t\t\turl:<span class=\"hljs-string\">\"list_shop_customers_info\"</span>,</span><br><span class=\"javascript\">\t   \t\t\tdata:&#123;<span class=\"hljs-attr\">start</span>:startAllAppoint, <span class=\"hljs-attr\">limit</span>:limitAllAppoint,<span class=\"hljs-attr\">selectValue</span>:$(<span class=\"hljs-string\">\"#selectValue\"</span>).val()&#125;,</span><br><span class=\"actionscript\">\t   \t\t\tsuccess:<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(data,status)</span></span>&#123;</span><br><span class=\"javascript\">\t   \t\t\t\tdata=<span class=\"hljs-built_in\">eval</span>(<span class=\"hljs-string\">\"(\"</span>+data+<span class=\"hljs-string\">\")\"</span>);</span><br>\t   \t\t\t\tgetShopCustomesInfo(data.root);<br><span class=\"actionscript\">\t   \t\t\t\tstartAllAppoint = data.currentResult;<span class=\"hljs-comment\">//当前页数(后台返回)</span></span><br><span class=\"actionscript\">\t   \t\t\t\ttotalPageAllAppoint = data.totalPage;<span class=\"hljs-comment\">//总页数(后台返回)</span></span><br>\t   \t\t\t\t<br>\t   \t\t\t&#125;<br>\t   \t\t&#125;);<br>\t   \t\t<br>\t   \t&#125;<br>\t   \t<br>\t   <br>\t   \t<br><span class=\"actionscript\">\t   \t<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getShopCustomesInfo</span><span class=\"hljs-params\">(data)</span></span>&#123;</span><br><span class=\"handlebars\"><span class=\"xml\">\t   \t\tvar s = \"<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">tr</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">th</span>&gt;</span>姓名<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">th</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">th</span>&gt;</span>性别<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">th</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">th</span>&gt;</span>电话<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">th</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">th</span>&gt;</span>备案楼盘<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">th</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">th</span>&gt;</span>已成交<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">th</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">th</span>&gt;</span>归属经纪人<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">th</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">th</span>&gt;</span>添加时间<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">th</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">tr</span>&gt;</span>\";</span></span><br><span class=\"javascript\">\t   \t\t$.each(data,<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">v,o</span>)</span>&#123;</span><br><span class=\"handlebars\"><span class=\"xml\">\t   \t\t\t\ts+='<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">tr</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">td</span>&gt;</span>'+o.cusName+'<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">td</span>&gt;</span>';</span></span><br><span class=\"actionscript\">\t   \t\t\t\ts+=<span class=\"hljs-string\">'&lt;td&gt;'</span>+o.cusSex+<span class=\"hljs-string\">'&lt;/td&gt;'</span>;</span><br><span class=\"actionscript\">\t   \t\t\t\ts+=<span class=\"hljs-string\">'&lt;td&gt;'</span>+o.phone+<span class=\"hljs-string\">'&lt;/td&gt;'</span>;</span><br><span class=\"actionscript\">\t   \t\t\t\ts+=<span class=\"hljs-string\">'&lt;td&gt;'</span>+o.records+<span class=\"hljs-string\">'&lt;/td&gt;'</span>;</span><br><span class=\"actionscript\">\t   \t\t\t\ts+=<span class=\"hljs-string\">'&lt;td&gt;'</span>+o.alreadyDeal+<span class=\"hljs-string\">'&lt;/td&gt;'</span>;</span><br><span class=\"actionscript\">\t   \t\t\t\ts+=<span class=\"hljs-string\">'&lt;td&gt;'</span>+o.theMedi+<span class=\"hljs-string\">'&lt;/td&gt;'</span>;</span><br><span class=\"handlebars\"><span class=\"xml\">\t   \t\t\t\ts+='<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">td</span>&gt;</span>'+o.addTime+'<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">td</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">tr</span>&gt;</span>';</span></span><br>\t   \t\t&#125;);<br><br>\t   \t\tif(data.length&gt;0)&#123;<br><span class=\"javascript\">\t   \t\t\t$(<span class=\"hljs-string\">\"#t_customerInfo\"</span>).html(s);</span><br><span class=\"actionscript\">\t   \t\t&#125;<span class=\"hljs-keyword\">else</span>&#123;</span><br><span class=\"javascript\">\t   \t\t\t$(<span class=\"hljs-string\">\"#page1\"</span>).hide();</span><br><span class=\"handlebars\"><span class=\"xml\">\t   \t\t\t$(\"#t_customerInfo\").html(\"<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>/&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">'width:10%;height:30px;display:block;margin:0 auto;'</span>&gt;</span>暂无数据<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\");</span></span><br>\t   \t\t&#125;<br>\t   \t\t<br>\t   \t\t<br>\t   \t&#125;<br>   \t\t<br>\t   \t<br>\t   \t<br><span class=\"actionscript\">\t   \t<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">toPage</span><span class=\"hljs-params\">()</span></span>&#123;</span><br>\t   \t\t<br><span class=\"actionscript\">\t   \t\tlayui.use([<span class=\"hljs-string\">'form'</span>, <span class=\"hljs-string\">'laypage'</span>, <span class=\"hljs-string\">'layedit'</span>,<span class=\"hljs-string\">'layer'</span>, <span class=\"hljs-string\">'laydate'</span>], <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span> </span>&#123;</span><br><span class=\"actionscript\">\t\t\t\t<span class=\"hljs-keyword\">var</span> form = layui.form(),</span><br>\t\t\t\t\tlayer = layui.layer,<br>\t\t\t\t\tlayedit = layui.layedit,<br>\t\t\t\t\tlaydate = layui.laydate,<br>\t\t\t\t\tlaypage = layui.laypage;<br>\t\t\t\t<br><span class=\"actionscript\">\t\t\t\t<span class=\"hljs-keyword\">var</span> nums = <span class=\"hljs-number\">10</span>;</span><br><span class=\"actionscript\">\t\t\t\t<span class=\"hljs-comment\">//调用分页</span></span><br>\t\t\t\t  laypage(&#123;<br><span class=\"actionscript\">\t\t\t\t    cont: <span class=\"hljs-string\">'paged'</span></span><br><span class=\"actionscript\">\t\t\t\t    ,pages: totalPageAllAppoint <span class=\"hljs-comment\">//得到总页数，在layui2.X中使用count替代了，并且不是使用\"总页数\"，而是\"总记录条数\"</span></span><br>\t\t\t\t    ,curr: currentPageAllAppoint<br><span class=\"actionscript\">\t\t\t\t    ,skip: <span class=\"hljs-literal\">true</span></span><br><span class=\"actionscript\">\t\t\t\t    ,jump: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(obj, first)</span></span>&#123;</span><br>\t\t\t\t    \t<br>\t\t\t\t    \tcurrentPageAllAppoint = obj.curr;<br>\t\t\t\t    \tstartAllAppoint = (obj.curr-1)*limitAllAppoint;<br><span class=\"actionscript\">\t\t\t\t      <span class=\"hljs-comment\">//document.getElementById('biuuu_city_list').innerHTML = render(obj, obj.curr);</span></span><br><span class=\"actionscript\">\t\t\t\t      <span class=\"hljs-keyword\">if</span>(!first)&#123; <span class=\"hljs-comment\">//一定要加此判断，否则初始时会无限刷新</span></span><br><span class=\"actionscript\">\t\t\t\t      getShopCustomerManagePageInfo();<span class=\"hljs-comment\">//一定要把翻页的ajax请求放到这里，不然会请求两次。</span></span><br><span class=\"actionscript\">\t\t\t\t          <span class=\"hljs-comment\">//location.href = '?page='+obj.curr;</span></span><br>\t\t\t\t        &#125;<br>\t\t\t\t    &#125;<br>\t\t\t\t  &#125;);<br>\t\t\t\t<br>\t\t\t\t<br>\t\t\t&#125;);<br>\t   \t&#125;;<br>\t   \t<br>   \t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"admin-main\"</span>&gt;</span><br>\t<br>\t<br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">blockquote</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"layui-elem-quote\"</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"layui-form\"</span> <span class=\"hljs-attr\">action</span>=<span class=\"hljs-string\">\"\"</span> &gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"layui-form-item\"</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"layui-input-inline\"</span>&gt;</span><br>\t\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"selectValue\"</span> <span class=\"hljs-attr\">lay-verify</span>=<span class=\"hljs-string\">\"required\"</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"客户姓名，电话\"</span> <span class=\"hljs-attr\">autocomplete</span>=<span class=\"hljs-string\">\"off\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"layui-input\"</span>&gt;</span><br>\t\t\t    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span><br>\t\t\t    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"layui-btn\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"button\"</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"selectButton\"</span>&gt;</span>搜索<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"shop_customer_manager_page_info\"</span>&gt;</span>显示所有客户<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">blockquote</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">fieldset</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"layui-elem-field\"</span>&gt;</span><br>\t\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">legend</span>&gt;</span>客户列表<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">legend</span>&gt;</span><br>\t\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"layui-field-box layui-form\"</span>&gt;</span><br>\t\t\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">table</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"layui-table admin-table\"</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"t_customerInfo\"</span>&gt;</span><br>\t\t\t\t\t\t\t<br>\t\t\t\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">table</span>&gt;</span><br>\t\t\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">fieldset</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"admin-table-page\"</span>&gt;</span><br>\t\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"paged\"</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"page\"</span>&gt;</span><br>\t\t\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span><br>\t<br>   <br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">html</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"java代码：\"><a href=\"#java代码：\" class=\"headerlink\" title=\"java代码：\"></a>java代码：</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\">\t * shop 客户管理 list</span><br><span class=\"hljs-comment\">\t * <span class=\"hljs-doctag\">@param</span> start</span><br><span class=\"hljs-comment\">\t * <span class=\"hljs-doctag\">@param</span> limit</span><br><span class=\"hljs-comment\">\t * <span class=\"hljs-doctag\">@param</span> selectValue</span><br><span class=\"hljs-comment\">\t */</span><br>\t<span class=\"hljs-meta\">@ResponseBody</span><br>\t<span class=\"hljs-meta\">@RequestMapping</span>(<span class=\"hljs-string\">\"/list_shop_customers_info\"</span>)<br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> Object <span class=\"hljs-title\">listShopCustomerInfo</span><span class=\"hljs-params\">(Integer start, Integer limit, String selectValue)</span> </span>&#123;<br>\t\tPage page = <span class=\"hljs-keyword\">new</span> Page();<br>\t\tpage.setStart(start);<br>\t\tpage.setLimit(limit);<br>\t\t<span class=\"hljs-comment\">// 获取session中的用户信息</span><br>\t\tUser u = (User) <span class=\"hljs-keyword\">this</span>.request.getSession().getAttribute(<span class=\"hljs-string\">\"userInfo\"</span>);<br>\t\t<span class=\"hljs-comment\">// 获取持久化用户对象</span><br>\t\tUser user = userService.findById(u.getUserId());<br>\t\t<span class=\"hljs-keyword\">if</span> (user != <span class=\"hljs-keyword\">null</span>) &#123;<br>\t\t\tprojectCustomerService.findShopCustomersByUser(user, selectValue, page);<br>\t\t\t<span class=\"hljs-keyword\">return</span> page;<br>\t\t&#125;<br>\t&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"sevice层\"><a href=\"#sevice层\" class=\"headerlink\" title=\"sevice层\"></a>sevice层</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-meta\">@Override</span><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">findShopCustomersByUser</span><span class=\"hljs-params\">(User user, String selectValue, Page page)</span> </span>&#123;<br>\t\tList cmList = <span class=\"hljs-keyword\">new</span> ArrayList&lt;&gt;();<br>\t\t<span class=\"hljs-keyword\">int</span> total = <span class=\"hljs-number\">0</span>;<br>\t\t<span class=\"hljs-keyword\">if</span>(user!=<span class=\"hljs-keyword\">null</span> &amp;&amp; user.getParentId()!=<span class=\"hljs-keyword\">null</span> &amp;&amp; !user.getParentId().equals(<span class=\"hljs-string\">\"\"</span>))&#123;<br>\t\t\tString hql = <span class=\"hljs-string\">\"from ShopCustomers as model where model.shopId = \"</span> + Integer.parseInt(user.getParentId());<br>\t\t\t<span class=\"hljs-keyword\">if</span>(selectValue!=<span class=\"hljs-keyword\">null</span> &amp;&amp; !selectValue.equals(<span class=\"hljs-string\">\"\"</span>))&#123;<br>\t\t\t\thql+=<span class=\"hljs-string\">\"and model.shopCustomerName like '%\"</span> +selectValue+<span class=\"hljs-string\">\"%' or model.shopCustomerPhone like '%\"</span> +selectValue+<span class=\"hljs-string\">\"%'\"</span>;<br>\t\t\t&#125;<br>\t\t\tList&lt;ShopCustomers&gt; list = baseDao.findByHql(hql,page.getStart(),page.getLimit());<br>\t\t\t<span class=\"hljs-keyword\">for</span>(ShopCustomers sc : list)&#123;<br>\t\t\t\tUser u = (User) baseDao.loadById(User<span class=\"hljs-class\">.<span class=\"hljs-keyword\">class</span>, <span class=\"hljs-title\">sc</span>.<span class=\"hljs-title\">getUserId</span>())</span>;<br>\t\t\t\tString cGRSHql = <span class=\"hljs-string\">\"select count(*) from GuideRecords where shopCustomerId = '\"</span>+sc.getShopCustomerId()+<span class=\"hljs-string\">\"'\"</span>;<br>\t\t\t\tString cDealHql = <span class=\"hljs-string\">\"select count(*) from GuideRecords where shopCustomerId = '\"</span>+sc.getShopCustomerId()+<span class=\"hljs-string\">\"' and isDeal = 1\"</span>;<br>\t\t\t\t<span class=\"hljs-keyword\">int</span> floorCounts = baseDao.countQuery(cGRSHql);<span class=\"hljs-comment\">//备案楼盘数</span><br>\t\t\t\t<span class=\"hljs-keyword\">int</span> dealCounts = baseDao.countQuery(cDealHql);<span class=\"hljs-comment\">//已成交数</span><br>\t\t\t\tCustomerManager cm = <span class=\"hljs-keyword\">new</span> CustomerManager();<br>\t\t\t\tCustomerManager cmObj = cm.createCusManObj(sc,u);<br>\t\t\t\tcmObj.setRecords(floorCounts);<br>\t\t\t\tcmObj.setAlreadyDeal(dealCounts);<br>\t\t\t\tcmList.add(cmObj);<br>\t\t\t&#125;<br>\t\t\tString cHql = <span class=\"hljs-string\">\"select count(*) \"</span>+hql;<br>\t\t\ttotal = baseDao.countQuery(cHql);<br>\t\t&#125;<br>\t\tpage.setRoot(cmList);<br>\t\tpage.setTotal(total);<br>\t&#125;<br></code></pre></td></tr></table></figure>\n<h3 id=\"分页对象\"><a href=\"#分页对象\" class=\"headerlink\" title=\"分页对象\"></a>分页对象</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-keyword\">package</span> com.sc.tradmaster.utils;<br><br><span class=\"hljs-keyword\">import</span> java.util.List;<br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * 分页对象</span><br><span class=\"hljs-comment\"> * <span class=\"hljs-doctag\">@author</span> grl 2017-01-05</span><br><span class=\"hljs-comment\"> *</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Page</span> </span>&#123;<br>\t<span class=\"hljs-comment\">/** 总记录数 */</span><br>\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">int</span> total;<br>\t<span class=\"hljs-comment\">/** 分页结果 */</span><br>\t<span class=\"hljs-keyword\">private</span> List root;<br>\t<span class=\"hljs-comment\">/** 开始页码 */</span><br>\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">int</span> start;<br>\t<span class=\"hljs-comment\">/** 每页多少 */</span><br>\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">int</span> limit;<br>\t<span class=\"hljs-comment\">/** 查询条件 */</span><br>\t<span class=\"hljs-keyword\">private</span> String wheres;<br>\t<br>\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">int</span> currentPage;\t<span class=\"hljs-comment\">//当前页</span><br>\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">int</span> currentResult;\t<span class=\"hljs-comment\">//当前记录起始索引</span><br>\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">int</span> totalPage;\t\t<span class=\"hljs-comment\">//总页数</span><br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">getCurrentPage</span><span class=\"hljs-params\">()</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">if</span>(currentPage&lt;=<span class=\"hljs-number\">0</span>)<br>\t\t\tcurrentPage = <span class=\"hljs-number\">1</span>;<br>\t\t<span class=\"hljs-keyword\">return</span> currentPage;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setCurrentPage</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> currentPage)</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">this</span>.currentPage = currentPage;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">getCurrentResult</span><span class=\"hljs-params\">()</span> </span>&#123;<br>\t\tcurrentResult = (getCurrentPage()-<span class=\"hljs-number\">1</span>)*getLimit();<br>\t\t<span class=\"hljs-keyword\">if</span>(currentResult&lt;<span class=\"hljs-number\">0</span>)<br>\t\t\tcurrentResult = <span class=\"hljs-number\">0</span>;<br>\t\t<span class=\"hljs-keyword\">return</span> currentResult;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setCurrentResult</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> currentResult)</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">this</span>.currentResult = currentResult;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">getTotalPage</span><span class=\"hljs-params\">()</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">if</span>(total%limit==<span class=\"hljs-number\">0</span>)<br>\t\t\ttotalPage = total/limit;<br>\t\t<span class=\"hljs-keyword\">else</span><br>\t\t\ttotalPage = total/limit+<span class=\"hljs-number\">1</span>;<br>\t\t<span class=\"hljs-keyword\">return</span> totalPage;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setTotalPage</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> totalPage)</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">this</span>.totalPage = totalPage;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">getTotal</span><span class=\"hljs-params\">()</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">return</span> total;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setTotal</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> total)</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">this</span>.total = total;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> List <span class=\"hljs-title\">getRoot</span><span class=\"hljs-params\">()</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">return</span> root;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setRoot</span><span class=\"hljs-params\">(List root)</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">this</span>.root = root;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">getStart</span><span class=\"hljs-params\">()</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">return</span> start;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setStart</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> start)</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">this</span>.start = start;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">getLimit</span><span class=\"hljs-params\">()</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">return</span> limit;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setLimit</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> limit)</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">this</span>.limit = limit;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title\">getWheres</span><span class=\"hljs-params\">()</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">return</span> wheres;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setWheres</span><span class=\"hljs-params\">(String wheres)</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">this</span>.wheres = wheres;<br>\t&#125;<br>\t<br>\t<span class=\"hljs-meta\">@Override</span><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title\">toString</span><span class=\"hljs-params\">()</span> </span>&#123;<br>\t\t<span class=\"hljs-keyword\">return</span> start+<span class=\"hljs-string\">\" \"</span>+total +<span class=\"hljs-string\">\" \"</span> +root;<br>\t&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>","raw":null,"categories":[{"name":"layui","path":"api/categories/layui.json"}],"tags":[{"name":"layui","path":"api/tags/layui.json"}]},{"title":"Java导出Excel文档（poi），并上传到腾讯云对象存储服务器","slug":"java-make-excel-poi-to-upload-cloud","date":"2017-10-21T12:00:00.000Z","updated":"2022-12-01T01:32:39.787Z","comments":true,"top":null,"path":"api/articles/java-make-excel-poi-to-upload-cloud.json","excerpt":" [Figure] 需求后台生成周报月报季报年报Excel，将文件下载链接推送给对应客户","keywords":"java,spring,springboot,springcloud,mybatis,jQuery,html,css","cover":"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046771647511.jpg","content":"<p><img   class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046771909687.jpg\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"  alt=\"\"></p>\n<h3 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求\"></a>需求</h3><p><strong>后台生成周报月报季报年报Excel，将文件下载链接推送给对应客户</strong></p>\n<a id=\"more\"></a>\n\n<h3 id=\"开发思路：\"><a href=\"#开发思路：\" class=\"headerlink\" title=\"开发思路：\"></a>开发思路：</h3><p><strong>1.根据选定日期生成周报，月报，季报，年报数据</strong><br><strong>2.将这些数据报告生成Excel表格</strong><br><strong>3.把生成的文件上传到腾讯云对象存储服务器</strong><br><strong>4.将服务器返回的url存储到数据库</strong></p>\n<h3 id=\"工具\"><a href=\"#工具\" class=\"headerlink\" title=\"工具\"></a>工具</h3><p><strong><a href=\"http://download.csdn.net/download/yaosir12/9475344\" target=\"_blank\" rel=\"noopener\">poi-3.14-20160307.jar(点击可下载)</a></strong></p>\n<h3 id=\"数据\"><a href=\"#数据\" class=\"headerlink\" title=\"数据\"></a>数据</h3><p>获取数据部分省略了</p>\n<h3 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h3><p><strong>主方法</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">boolean</span> <span class=\"hljs-title\">addReportExcelToCloud</span><span class=\"hljs-params\">(ReportResult rr)</span> </span>&#123;<br><br>\t\tOutputStream out = <span class=\"hljs-keyword\">new</span> ByteArrayOutputStream();<br>\t\tExcelProjectUtils eu = <span class=\"hljs-keyword\">new</span> ExcelProjectUtils();<br>\t\teu.exportExcel(rr, out);   <span class=\"hljs-comment\">//&lt;1&gt;</span><br>\t\tConvertUtil cu = <span class=\"hljs-keyword\">new</span> ConvertUtil();<br>\t\t<span class=\"hljs-keyword\">try</span> &#123;<br>\t\t\tByteArrayInputStream byteInput = cu.parse(out);<br>\t\t\tString rs = PicUploadToYun.uploadExcel(SysContent.getFileRename(<span class=\"hljs-string\">\"案场数据报.xls\"</span>), byteInput);  <span class=\"hljs-comment\">//&lt;2&gt;</span><br>\t\t\taddReportExcelToDB(rr, rs);  <span class=\"hljs-comment\">//&lt;3&gt;</span><br>\t\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">true</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">catch</span> (Exception e) &#123;<br>\t\t\te.printStackTrace();<br>\t\t&#125;<br><br>\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>\t&#125;<br></code></pre></td></tr></table></figure>\n<p>&lt;1&gt; 将数据生成二进制Excel文件 (方法详细见下面代码)<br>&lt;2&gt; 将生成的二进制文件上传到腾讯云对象存储服务器 (方法详细见下面代码)<br>&lt;3&gt; 将服务器返回的url存储到数据库 (方法详细见下面代码)</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\">\t * 周报年报生成excel</span><br><span class=\"hljs-comment\">\t * </span><br><span class=\"hljs-comment\">\t * <span class=\"hljs-doctag\">@param</span> report</span><br><span class=\"hljs-comment\">\t * <span class=\"hljs-doctag\">@param</span> out</span><br><span class=\"hljs-comment\">\t */</span><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">exportExcel</span><span class=\"hljs-params\">(ReportResult report, OutputStream out)</span> </span>&#123;<br><br>\t\t<span class=\"hljs-comment\">// 判断传入的时间间隔</span><br>\t\tString dateStr = <span class=\"hljs-string\">\"\"</span>;<br>\t\tString reportName = <span class=\"hljs-string\">\"\"</span>;<br>\t\tList&lt;String&gt; dateCount = DateUtil.getTwoDateEveryDay(report.getStartTime(), report.getEndTime());<br>\t\t<span class=\"hljs-keyword\">if</span> (dateCount.size() &lt;= <span class=\"hljs-number\">7</span>) &#123;<br>\t\t\tdateStr += <span class=\"hljs-string\">\"本周\"</span>;<br>\t\t\treportName += <span class=\"hljs-string\">\"案场周报\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (dateCount.size() &gt;= <span class=\"hljs-number\">28</span> &amp;&amp; dateCount.size() &lt;= <span class=\"hljs-number\">31</span>) &#123;<br>\t\t\tdateStr += <span class=\"hljs-string\">\"本月\"</span>;<br>\t\t\treportName += <span class=\"hljs-string\">\"案场月报\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (dateCount.size() &gt;= <span class=\"hljs-number\">85</span> &amp;&amp; dateCount.size() &lt;= <span class=\"hljs-number\">100</span>) &#123;<br>\t\t\tdateStr += <span class=\"hljs-string\">\"本季度\"</span>;<br>\t\t\treportName += <span class=\"hljs-string\">\"案场季报\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (dateCount.size() &gt;= <span class=\"hljs-number\">180</span> &amp;&amp; dateCount.size() &lt;= <span class=\"hljs-number\">185</span>) &#123;<br>\t\t\tdateStr += <span class=\"hljs-string\">\"本半年度\"</span>;<br>\t\t\treportName += <span class=\"hljs-string\">\"案场半年报\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (dateCount.size() &gt;= <span class=\"hljs-number\">360</span> &amp;&amp; dateCount.size() &lt;= <span class=\"hljs-number\">367</span>) &#123;<br>\t\t\tdateStr += <span class=\"hljs-string\">\"本年度\"</span>;<br>\t\t\treportName += <span class=\"hljs-string\">\"案场年报\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> &#123;<br>\t\t\tdateStr += <span class=\"hljs-string\">\"时间段内\"</span>;<br>\t\t\treportName += <span class=\"hljs-string\">\"案场阶段报\"</span>;<br>\t\t&#125;<br>\t\treport.setReportName(reportName);<br>\t\t<span class=\"hljs-comment\">// 声明一个工作薄</span><br>\t\tHSSFWorkbook workbook = <span class=\"hljs-keyword\">new</span> HSSFWorkbook();<br>\t\t<span class=\"hljs-comment\">// 生成一个表格</span><br>\t\tHSSFSheet sheet = workbook.createSheet(report.getReportName() + report.getStartTime() + <span class=\"hljs-string\">\" - \"</span> + report.getEndTime());<br>\t\t<span class=\"hljs-comment\">// 设置表格默认列宽度为100个字节</span><br>\t\tsheet.setDefaultColumnWidth((<span class=\"hljs-keyword\">short</span>) <span class=\"hljs-number\">100</span>);<br>\t\t<span class=\"hljs-comment\">/** ----------样式一：标题 ------------ **/</span><br>\t\tHSSFCellStyle style = workbook.createCellStyle();<br>\t\t<span class=\"hljs-comment\">// 设置这些样式</span><br>\t\tstyle.setBorderLeft(HSSFCellStyle.BORDER_THIN);<br>\t\tstyle.setBorderRight(HSSFCellStyle.BORDER_THIN);<br>\t\t<span class=\"hljs-comment\">//style.setBorderTop(HSSFCellStyle.BORDER_THIN);</span><br>\t\tstyle.setAlignment(HSSFCellStyle.ALIGN_CENTER);<br>\t\t<span class=\"hljs-comment\">// 生成一个字体</span><br>\t\tHSSFFont font = workbook.createFont();<br>\t\tfont.setFontName(<span class=\"hljs-string\">\"宋体\"</span>);<br>\t\t<span class=\"hljs-comment\">//font.setColor(HSSFColor.VIOLET.index);</span><br>\t\tfont.setFontHeightInPoints((<span class=\"hljs-keyword\">short</span>) <span class=\"hljs-number\">14</span>);<br>\t\tfont.setBoldweight(HSSFFont.BOLDWEIGHT_BOLD);<br>\t\t<span class=\"hljs-comment\">// 把字体应用到当前的样式</span><br>\t\tstyle.setFont(font);<br>\t\t<span class=\"hljs-comment\">/***---------样式二：小标题---------***/</span><br>\t\tHSSFCellStyle style2 = workbook.createCellStyle();<br>\t\tstyle2.setBorderLeft(HSSFCellStyle.BORDER_THIN);<br>\t\tstyle2.setBorderRight(HSSFCellStyle.BORDER_THIN);<br>\t\t<span class=\"hljs-comment\">//style2.setBorderTop(HSSFCellStyle.BORDER_THIN);</span><br>\t\tstyle2.setAlignment(HSSFCellStyle.ALIGN_LEFT);<br>\t\t<br>\t\t<span class=\"hljs-comment\">//style2.setVerticalAlignment(HSSFCellStyle.VERTICAL_CENTER);</span><br>\t\t<span class=\"hljs-comment\">// 生成另一个字体</span><br>\t\tHSSFFont font2 = workbook.createFont();<br>\t\t<span class=\"hljs-comment\">//font2.setBoldweight(HSSFFont.BOLDWEIGHT_NORMAL);</span><br>\t\tfont2.setFontName(<span class=\"hljs-string\">\"宋体\"</span>);<br>\t\tfont2.setFontHeightInPoints((<span class=\"hljs-keyword\">short</span>) <span class=\"hljs-number\">11</span>);<br>\t\tfont2.setBoldweight(HSSFFont.BOLDWEIGHT_BOLD);<br>\t\t<span class=\"hljs-comment\">// 把字体应用到当前的样式</span><br>\t\tstyle2.setFont(font2);<br>\t\t<br>\t\t<span class=\"hljs-comment\">/***    样式三：右侧日期       ***/</span><br>\t\tHSSFCellStyle style3 = workbook.createCellStyle();<br>\t\t<span class=\"hljs-comment\">//样式</span><br>\t\tstyle3.setBorderLeft(HSSFCellStyle.BORDER_THIN);<br>\t\tstyle3.setBorderRight(HSSFCellStyle.BORDER_THIN);<br>\t\tstyle3.setAlignment(HSSFCellStyle.ALIGN_RIGHT);<br>\t\tstyle3.setBorderBottom(HSSFCellStyle.BORDER_THIN);<br>\t\t<span class=\"hljs-comment\">//字体</span><br>\t\tHSSFFont font3 = workbook.createFont();<br>\t\tfont3.setFontName(<span class=\"hljs-string\">\"宋体\"</span>);<br>\t\tfont3.setFontHeightInPoints((<span class=\"hljs-keyword\">short</span>) <span class=\"hljs-number\">11</span>);<br>\t\tstyle3.setFont(font3);<br>\t\t<br>\t\t<span class=\"hljs-comment\">/**       样式四：主内容        ***/</span><br>\t\tHSSFCellStyle style4 = workbook.createCellStyle();<br>\t\t<span class=\"hljs-comment\">//样式</span><br>\t\tstyle4.setBorderLeft(HSSFCellStyle.BORDER_THIN);<br>\t\tstyle4.setBorderRight(HSSFCellStyle.BORDER_THIN);<br>\t\tstyle4.setAlignment(HSSFCellStyle.ALIGN_LEFT);<br>\t\t<span class=\"hljs-comment\">//字体</span><br>\t\tHSSFFont font4 = workbook.createFont();<br>\t\tfont4.setFontName(<span class=\"hljs-string\">\"宋体\"</span>);<br>\t\tfont4.setFontHeightInPoints((<span class=\"hljs-keyword\">short</span>) <span class=\"hljs-number\">11</span>);<br>\t\tstyle4.setFont(font4);<br>\t\t<br>\t\t<span class=\"hljs-comment\">/**       样式五：底侧空内容       ***/</span><br>\t\tHSSFCellStyle style5 = workbook.createCellStyle();<br>\t\t<span class=\"hljs-comment\">//样式</span><br>\t\tstyle5.setBorderLeft(HSSFCellStyle.BORDER_THIN);<br>\t\tstyle5.setBorderRight(HSSFCellStyle.BORDER_THIN);<br>\t\tstyle5.setAlignment(HSSFCellStyle.ALIGN_LEFT);<br>\t\tstyle5.setBorderBottom(HSSFCellStyle.BORDER_THIN);<br>\t\t<span class=\"hljs-comment\">//字体</span><br>\t\tHSSFFont font5 = workbook.createFont();<br>\t\tfont5.setFontName(<span class=\"hljs-string\">\"宋体\"</span>);<br>\t\tfont5.setFontHeightInPoints((<span class=\"hljs-keyword\">short</span>) <span class=\"hljs-number\">11</span>);<br>\t\tstyle5.setFont(font5);<br>\t\t<br>\t\t<br>\t\t<span class=\"hljs-comment\">// 声明一个画图的顶级管理器</span><br>\t\tHSSFPatriarch patriarch = sheet.createDrawingPatriarch();<br>\t\t<span class=\"hljs-comment\">// 定义注释的大小和位置,详见文档</span><br>\t\tHSSFComment comment = patriarch.createComment(<span class=\"hljs-keyword\">new</span> HSSFClientAnchor(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, (<span class=\"hljs-keyword\">short</span>) <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">2</span>, (<span class=\"hljs-keyword\">short</span>) <span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">5</span>));<br>\t\t<span class=\"hljs-comment\">// 设置注释内容</span><br>\t\tcomment.setString(<span class=\"hljs-keyword\">new</span> HSSFRichTextString(<span class=\"hljs-string\">\"数据报\"</span>));<br>\t\t<span class=\"hljs-comment\">// 设置注释作者，当鼠标移动到单元格上是可以在状态栏中看到该内容.</span><br>\t\tcomment.setAuthor(<span class=\"hljs-string\">\"saas\"</span>);<br><br>\t\t<span class=\"hljs-comment\">// 产生表格标题行 -- 项目名称</span><br>\t\tHSSFRow row = sheet.createRow(<span class=\"hljs-number\">0</span>);<br>\t\tcreateCellAndRow(style4, report.getProjectName(), row);<br><br>\t\t<span class=\"hljs-comment\">// 产生表格标题行 -- 周报名称</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">1</span>);<br>\t\tcreateCellAndRow(style, report.getReportName(), row);<br><br>\t\t<span class=\"hljs-comment\">// 产生表格标题行 -- 起始时间-终止时间</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">2</span>);<br>\t\tString startTime = DateUtil.format(DateUtil.parse(report.getStartTime(), DateUtil.PATTERN_CLASSICAL_SIMPLE),<br>\t\t\t\tDateUtil.PATTERN_CLASSICAL_SIMPLE_YMD);<br>\t\tString endTime = DateUtil.format(DateUtil.parse(report.getEndTime(), DateUtil.PATTERN_CLASSICAL_SIMPLE),<br>\t\t\t\tDateUtil.PATTERN_CLASSICAL_SIMPLE_YMD);<br>\t\tString date = <span class=\"hljs-string\">\"日期：\"</span> + startTime + <span class=\"hljs-string\">\" - \"</span> + endTime;<br>\t\tcreateCellAndRow(style3, date, row);<br><br>\t\t<span class=\"hljs-comment\">// 接访情况标题</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">3</span>);<br>\t\tcreateCellAndRow(style2, <span class=\"hljs-string\">\"·接访情况\"</span>, row);<br><br>\t\t<span class=\"hljs-comment\">// 接访客户组数</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">4</span>);<br>\t\tInteger visitCount = report.getVisitCount();<br>\t\tString visitNum = <span class=\"hljs-string\">\"1、\"</span> + dateStr + <span class=\"hljs-string\">\"共计接访客户\"</span> + visitCount + <span class=\"hljs-string\">\"组，来访量\"</span>;<br>\t\t<span class=\"hljs-keyword\">if</span> (visitCount &lt; <span class=\"hljs-number\">40</span>) &#123;<br>\t\t\tvisitNum += <span class=\"hljs-string\">\"较少，有待提升\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (visitCount &gt;= <span class=\"hljs-number\">41</span> &amp;&amp; visitCount &lt;= <span class=\"hljs-number\">99</span>) &#123;<br>\t\t\tvisitNum += <span class=\"hljs-string\">\"尚可，还有提高空间\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (visitCount &gt;= <span class=\"hljs-number\">100</span> &amp;&amp; visitCount &lt;= <span class=\"hljs-number\">139</span>) &#123;<br>\t\t\tvisitNum += <span class=\"hljs-string\">\"很多\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (visitCount &gt; <span class=\"hljs-number\">140</span>) &#123;<br>\t\t\tvisitNum += <span class=\"hljs-string\">\"火爆\"</span>;<br>\t\t&#125;<br>\t\tcreateCellAndRow(style4, visitNum, row);<br><br>\t\t<span class=\"hljs-comment\">// 有效接访率</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">5</span>);<br>\t\tDouble visitRate = <span class=\"hljs-keyword\">new</span> Double(report.getValidVisitRate());<br>\t\tString visitRateStr = <span class=\"hljs-string\">\"2、有效接访率为\"</span> + visitRate + <span class=\"hljs-string\">\"%，接访成效\"</span>;<br>\t\t<span class=\"hljs-keyword\">if</span> (visitRate &lt; <span class=\"hljs-number\">50</span>) &#123;<br>\t\t\tvisitRateStr += <span class=\"hljs-string\">\"较低，有待提升\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (visitRate &gt;= <span class=\"hljs-number\">50</span> &amp;&amp; visitRate &lt;= <span class=\"hljs-number\">65</span>) &#123;<br>\t\t\tvisitRateStr += <span class=\"hljs-string\">\"尚可，还有提高空间\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (visitRate &gt;= <span class=\"hljs-number\">65</span> &amp;&amp; visitRate &lt;= <span class=\"hljs-number\">80</span>) &#123;<br>\t\t\tvisitRateStr += <span class=\"hljs-string\">\"很高\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (visitRate &gt; <span class=\"hljs-number\">80</span>) &#123;<br>\t\t\tvisitRateStr += <span class=\"hljs-string\">\"极高\"</span>;<br>\t\t&#125;<br>\t\tcreateCellAndRow(style4, visitRateStr, row);<br><br>\t\t<span class=\"hljs-comment\">// 首访有效率</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">6</span>);<br>\t\tDouble newVisitRate = <span class=\"hljs-keyword\">new</span> Double(report.getValidNewCuVisitRate());<br>\t\tString newVisitStr = <span class=\"hljs-string\">\"3、首访有效率为\"</span> + newVisitRate + <span class=\"hljs-string\">\"%，来访转储客的概率\"</span>;<br>\t\t<span class=\"hljs-keyword\">if</span> (newVisitRate &lt; <span class=\"hljs-number\">40</span>) &#123;<br>\t\t\tnewVisitStr += <span class=\"hljs-string\">\"较差，有待提升\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (newVisitRate &gt;= <span class=\"hljs-number\">40</span> &amp;&amp; newVisitRate &lt;= <span class=\"hljs-number\">60</span>) &#123;<br>\t\t\tnewVisitStr += <span class=\"hljs-string\">\"尚可，还有提高空间\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (newVisitRate &gt;= <span class=\"hljs-number\">60</span> &amp;&amp; newVisitRate &lt;= <span class=\"hljs-number\">75</span>) &#123;<br>\t\t\tnewVisitStr += <span class=\"hljs-string\">\"很高\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (newVisitRate &gt; <span class=\"hljs-number\">75</span>) &#123;<br>\t\t\tnewVisitStr += <span class=\"hljs-string\">\"极高\"</span>;<br>\t\t&#125;<br>\t\tcreateCellAndRow(style4, newVisitStr, row);<br><br>\t\t<span class=\"hljs-comment\">// 老客户接访占比</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">7</span>);<br>\t\tDouble oldVisitRate = <span class=\"hljs-keyword\">new</span> Double(report.getOldCuVisitRate());<br>\t\tString oldVisitStr = <span class=\"hljs-string\">\"4、老客户接访比为\"</span> + oldVisitRate + <span class=\"hljs-string\">\"%，老客户接访的占比\"</span>;<br>\t\t<span class=\"hljs-keyword\">if</span> (oldVisitRate &lt; <span class=\"hljs-number\">20</span>) &#123;<br>\t\t\toldVisitStr += <span class=\"hljs-string\">\"较低\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (oldVisitRate &gt;= <span class=\"hljs-number\">20</span> &amp;&amp; oldVisitRate &lt;= <span class=\"hljs-number\">40</span>) &#123;<br>\t\t\toldVisitStr += <span class=\"hljs-string\">\"尚可\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (oldVisitRate &gt;= <span class=\"hljs-number\">40</span> &amp;&amp; oldVisitRate &lt;= <span class=\"hljs-number\">60</span>) &#123;<br>\t\t\toldVisitStr += <span class=\"hljs-string\">\"很高\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (oldVisitRate &gt; <span class=\"hljs-number\">60</span>) &#123;<br>\t\t\toldVisitStr += <span class=\"hljs-string\">\"极高\"</span>;<br>\t\t&#125;<br>\t\tcreateCellAndRow(style4, oldVisitStr, row);<br><br>\t\t<span class=\"hljs-comment\">//空行</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">8</span>);<br>\t\tcreateCellAndRow(style4, <span class=\"hljs-string\">\"\"</span>, row);<br>\t\t<br>\t\t<span class=\"hljs-comment\">// 储客情况</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">9</span>);<br>\t\tcreateCellAndRow(style2, <span class=\"hljs-string\">\"·储客情况\"</span>, row);<br><br>\t\t<span class=\"hljs-comment\">// 新增储客</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">10</span>);<br>\t\tInteger newCuCount = report.getNewCuCount();<br>\t\tString newCuStr = <span class=\"hljs-string\">\"1、\"</span> + dateStr + <span class=\"hljs-string\">\"新增储客\"</span> + newCuCount + <span class=\"hljs-string\">\"组，新增量\"</span>;<br>\t\t<span class=\"hljs-keyword\">if</span> (newCuCount &lt; <span class=\"hljs-number\">30</span>) &#123;<br>\t\t\tnewCuStr += <span class=\"hljs-string\">\"较少，有待提升\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (newCuCount &gt;= <span class=\"hljs-number\">31</span> &amp;&amp; newCuCount &lt;= <span class=\"hljs-number\">60</span>) &#123;<br>\t\t\tnewCuStr += <span class=\"hljs-string\">\"尚可，还有提高空间\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (newCuCount &gt;= <span class=\"hljs-number\">61</span> &amp;&amp; newCuCount &lt;= <span class=\"hljs-number\">79</span>) &#123;<br>\t\t\tnewCuStr += <span class=\"hljs-string\">\"很多\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (newCuCount &gt; <span class=\"hljs-number\">80</span>) &#123;<br>\t\t\tnewCuStr += <span class=\"hljs-string\">\"爆满\"</span>;<br>\t\t&#125;<br>\t\tcreateCellAndRow(style4, newCuStr, row);<br><br>\t\t<span class=\"hljs-comment\">// 累计老客户</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">11</span>);<br>\t\tInteger oldCuCount = report.getTotalOldCuCount();<br>\t\tInteger totalCuCount = report.getTotalCuCount();<br>\t\tDouble oldCuRate = <span class=\"hljs-keyword\">new</span> Double(SysContent.getTwoNumberForValue(oldCuCount, totalCuCount));<br>\t\tString oldCuStr = <span class=\"hljs-string\">\"2、累计老客户总量为\"</span> + oldCuCount + <span class=\"hljs-string\">\"组，老客户占比为\"</span> + oldCuRate + <span class=\"hljs-string\">\"%，显示老客户关注度\"</span>;<br>\t\t<span class=\"hljs-keyword\">if</span> (oldCuRate &lt; <span class=\"hljs-number\">15</span>) &#123;<br>\t\t\toldCuStr += <span class=\"hljs-string\">\"较低，有待提升\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (oldCuRate &gt;= <span class=\"hljs-number\">15</span> &amp;&amp; oldCuRate &lt;= <span class=\"hljs-number\">25</span>) &#123;<br>\t\t\toldCuStr += <span class=\"hljs-string\">\"尚可，还有提高空间\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (oldCuRate &gt;= <span class=\"hljs-number\">25</span> &amp;&amp; oldCuRate &lt;= <span class=\"hljs-number\">40</span>) &#123;<br>\t\t\toldCuStr += <span class=\"hljs-string\">\"很高\"</span>;<br>\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (oldCuRate &gt; <span class=\"hljs-number\">40</span>) &#123;<br>\t\t\toldCuStr += <span class=\"hljs-string\">\"极高\"</span>;<br>\t\t&#125;<br>\t\tcreateCellAndRow(style4, oldCuStr, row);<br><br>\t\t<span class=\"hljs-comment\">// 累计总储客</span><br>\t\trow = sheet.createRow(<span class=\"hljs-number\">12</span>);<br>\t\tString totalOldCuStr = <span class=\"hljs-string\">\"3、累计总储客\"</span> + totalCuCount + <span class=\"hljs-string\">\"组\"</span>;<br>\t\tcreateCellAndRow(style4, totalOldCuStr, row);<br><br>\t\t<span class=\"hljs-comment\">// 成交情况(周报没有，其他有)</span><br>\t\t<span class=\"hljs-keyword\">if</span> (report.getSubscribeHouseCount() != <span class=\"hljs-keyword\">null</span>) &#123;<br>\t\t\t<br>\t\t\t<span class=\"hljs-comment\">//空行</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">13</span>);<br>\t\t\tcreateCellAndRow(style4, <span class=\"hljs-string\">\"\"</span>, row);<br>\t\t\t<br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">14</span>);<br>\t\t\tcreateCellAndRow(style2, <span class=\"hljs-string\">\"·成交情况\"</span>, row);<br><br>\t\t\t<span class=\"hljs-comment\">// 新增认购套数</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">15</span>);<br>\t\t\tInteger subscribeHouseCount = report.getSubscribeHouseCount();<br>\t\t\tDouble subscribeHouseRate = <span class=\"hljs-keyword\">new</span> Double(report.getSubscribeHouseRate());<br>\t\t\tString subscribeHouseStr = <span class=\"hljs-string\">\"1、\"</span> + dateStr + <span class=\"hljs-string\">\"新增认购套数\"</span> + subscribeHouseCount + <span class=\"hljs-string\">\"套，较\"</span> + dateStr + <span class=\"hljs-string\">\"同期\"</span>;<br>\t\t\t<span class=\"hljs-keyword\">if</span> (subscribeHouseRate &lt; <span class=\"hljs-number\">0</span>) &#123;<br>\t\t\t\tsubscribeHouseStr += <span class=\"hljs-string\">\"减少\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> &#123;<br>\t\t\t\tsubscribeHouseStr += <span class=\"hljs-string\">\"增长\"</span>;<br>\t\t\t&#125;<br>\t\t\tsubscribeHouseStr += Math.abs(subscribeHouseRate) + <span class=\"hljs-string\">\"%\"</span>;<br>\t\t\tcreateCellAndRow(style4, subscribeHouseStr, row);<br><br>\t\t\t<span class=\"hljs-comment\">// 新增认购金额</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">16</span>);<br>\t\t\tLong subscribeMoney = report.getSubscribeMoney();<br>\t\t\tDouble subscribeMoneyRate = <span class=\"hljs-keyword\">new</span> Double(report.getSubscribeMoneyRate());<br>\t\t\tString subscribeMoneyStr = <span class=\"hljs-string\">\"   新增认购金额\"</span> + subscribeMoney + <span class=\"hljs-string\">\"万元，较\"</span> + dateStr + <span class=\"hljs-string\">\"同期\"</span>;<br>\t\t\t<span class=\"hljs-keyword\">if</span> (subscribeHouseRate &lt; <span class=\"hljs-number\">0</span>) &#123;<br>\t\t\t\tsubscribeMoneyStr += <span class=\"hljs-string\">\"减少\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> &#123;<br>\t\t\t\tsubscribeMoneyStr += <span class=\"hljs-string\">\"增长\"</span>;<br>\t\t\t&#125;<br>\t\t\tsubscribeMoneyStr += Math.abs(subscribeMoneyRate) + <span class=\"hljs-string\">\"%\"</span>;<br>\t\t\tcreateCellAndRow(style4, subscribeMoneyStr, row);<br><br>\t\t\t<span class=\"hljs-comment\">// 新增签约套数</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">17</span>);<br>\t\t\tInteger signCount = report.getSignCount();<br>\t\t\tDouble signRate = <span class=\"hljs-keyword\">new</span> Double(report.getSignRate());<br>\t\t\tString signStr = <span class=\"hljs-string\">\"2、新增签约套数\"</span> + signCount + <span class=\"hljs-string\">\"套,较\"</span> + dateStr + <span class=\"hljs-string\">\"同期\"</span>;<br>\t\t\t<span class=\"hljs-keyword\">if</span> (signRate &lt; <span class=\"hljs-number\">0</span>) &#123;<br>\t\t\t\tsignStr += <span class=\"hljs-string\">\"减少\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> &#123;<br>\t\t\t\tsignStr += <span class=\"hljs-string\">\"增长\"</span>;<br>\t\t\t&#125;<br>\t\t\tsignStr += Math.abs(signRate) + <span class=\"hljs-string\">\"%\"</span>;<br>\t\t\tcreateCellAndRow(style4, signStr, row);<br><br>\t\t\t<span class=\"hljs-comment\">// 新增签约金额</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">18</span>);<br>\t\t\tLong signHouseMoney = report.getSignHouseMoney();<br>\t\t\tDouble signHouseMoneyRate = <span class=\"hljs-keyword\">new</span> Double(report.getSignHouseMoneyRate());<br>\t\t\tString signHouseMoneyStr = <span class=\"hljs-string\">\"   新增签约金额\"</span> + signHouseMoney + <span class=\"hljs-string\">\"万元，较\"</span> + dateStr + <span class=\"hljs-string\">\"同期\"</span>;<br>\t\t\t<span class=\"hljs-keyword\">if</span> (signHouseMoneyRate &lt; <span class=\"hljs-number\">0</span>) &#123;<br>\t\t\t\tsignHouseMoneyStr += <span class=\"hljs-string\">\"减少\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> &#123;<br>\t\t\t\tsignHouseMoneyStr += <span class=\"hljs-string\">\"增长\"</span>;<br>\t\t\t&#125;<br>\t\t\tsignHouseMoneyStr += Math.abs(signHouseMoneyRate) + <span class=\"hljs-string\">\"%\"</span>;<br>\t\t\tcreateCellAndRow(style4, signHouseMoneyStr, row);<br><br>\t\t\t<span class=\"hljs-comment\">// 新接访签约率</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">19</span>);<br>\t\t\tDouble newCustomerSignedRate = <span class=\"hljs-keyword\">new</span> Double(report.getNewCustomerSignedRate());<br>\t\t\tString newCustomerSignedStr = <span class=\"hljs-string\">\"3、\"</span> + dateStr + <span class=\"hljs-string\">\"新客户接访签约率\"</span> + newCustomerSignedRate + <span class=\"hljs-string\">\"%，接访签约概率\"</span>;<br>\t\t\t<span class=\"hljs-keyword\">if</span> (newCustomerSignedRate &lt; <span class=\"hljs-number\">4</span>) &#123;<br>\t\t\t\tnewCustomerSignedStr += <span class=\"hljs-string\">\"较低，与理想值差距大\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (newCustomerSignedRate &gt;= <span class=\"hljs-number\">4</span> &amp;&amp; newCustomerSignedRate &lt;= <span class=\"hljs-number\">6</span>) &#123;<br>\t\t\t\tnewCustomerSignedStr += <span class=\"hljs-string\">\"尚可，还有提高空间\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (newCustomerSignedRate &gt;= <span class=\"hljs-number\">6</span> &amp;&amp; newCustomerSignedRate &lt;= <span class=\"hljs-number\">7</span>) &#123;<br>\t\t\t\tnewCustomerSignedStr += <span class=\"hljs-string\">\"很高\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (newCustomerSignedRate &gt; <span class=\"hljs-number\">7</span>) &#123;<br>\t\t\t\tnewCustomerSignedStr += <span class=\"hljs-string\">\"非常高\"</span>;<br>\t\t\t&#125;<br>\t\t\tcreateCellAndRow(style4, newCustomerSignedStr, row);<br><br>\t\t\t<span class=\"hljs-comment\">// 储客签约率</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">20</span>);<br>\t\t\tDouble momeryCustomerSignedRate = <span class=\"hljs-keyword\">new</span> Double(report.getMomeryCustomerSignedRate());<br>\t\t\tString momeryCustomerSignedStr = <span class=\"hljs-string\">\"4、储客签约率\"</span> + momeryCustomerSignedRate + <span class=\"hljs-string\">\"%，储备客户签约概率\"</span>;<br>\t\t\t<span class=\"hljs-keyword\">if</span> (momeryCustomerSignedRate &lt; <span class=\"hljs-number\">7</span>) &#123;<br>\t\t\t\tmomeryCustomerSignedStr += <span class=\"hljs-string\">\"较低，与理想值差距大\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (momeryCustomerSignedRate &gt;= <span class=\"hljs-number\">7</span> &amp;&amp; momeryCustomerSignedRate &lt;= <span class=\"hljs-number\">12</span>) &#123;<br>\t\t\t\tmomeryCustomerSignedStr += <span class=\"hljs-string\">\"尚可，还有提高空间\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (momeryCustomerSignedRate &gt;= <span class=\"hljs-number\">12</span> &amp;&amp; momeryCustomerSignedRate &lt;= <span class=\"hljs-number\">15</span>) &#123;<br>\t\t\t\tmomeryCustomerSignedStr += <span class=\"hljs-string\">\"很高\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (momeryCustomerSignedRate &gt; <span class=\"hljs-number\">15</span>) &#123;<br>\t\t\t\tmomeryCustomerSignedStr += <span class=\"hljs-string\">\"非常高\"</span>;<br>\t\t\t&#125;<br>\t\t\tcreateCellAndRow(style4, momeryCustomerSignedStr, row);<br><br>\t\t\t<span class=\"hljs-comment\">// 老客户签约率</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">21</span>);<br>\t\t\tDouble oldCustomerSignedRate = <span class=\"hljs-keyword\">new</span> Double(report.getOldCustomerSignedRate());<br>\t\t\tString oldCustomerSignedStr = <span class=\"hljs-string\">\"5、老客户签约率为23.2%，高意向客户签约概率\"</span>;<br>\t\t\t<span class=\"hljs-keyword\">if</span> (oldCustomerSignedRate &lt; <span class=\"hljs-number\">25</span>) &#123;<br>\t\t\t\toldCustomerSignedStr += <span class=\"hljs-string\">\"较低，与理想值差距大\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (oldCustomerSignedRate &gt;= <span class=\"hljs-number\">25</span> &amp;&amp; oldCustomerSignedRate &lt;= <span class=\"hljs-number\">35</span>) &#123;<br>\t\t\t\toldCustomerSignedStr += <span class=\"hljs-string\">\"尚可，还有提高空间\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (oldCustomerSignedRate &gt;= <span class=\"hljs-number\">35</span> &amp;&amp; oldCustomerSignedRate &lt;= <span class=\"hljs-number\">50</span>) &#123;<br>\t\t\t\toldCustomerSignedStr += <span class=\"hljs-string\">\"很高\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (oldCustomerSignedRate &gt; <span class=\"hljs-number\">50</span>) &#123;<br>\t\t\t\toldCustomerSignedStr += <span class=\"hljs-string\">\"非常高\"</span>;<br>\t\t\t&#125;<br>\t\t\tcreateCellAndRow(style4, oldCustomerSignedStr, row);<br><br>\t\t\t<span class=\"hljs-comment\">// 认购客户签约率</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">22</span>);<br>\t\t\tDouble contratCuSignedRate = <span class=\"hljs-keyword\">new</span> Double(report.getContratCuSignedRate());<br>\t\t\tString contratCuSignedStr = <span class=\"hljs-string\">\"6、认购客户签约率为92%，已认购客户签约率\"</span>;<br>\t\t\t<span class=\"hljs-keyword\">if</span> (contratCuSignedRate &lt; <span class=\"hljs-number\">95</span>) &#123;<br>\t\t\t\tcontratCuSignedStr += <span class=\"hljs-string\">\"不高，较多退订或拒签\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (contratCuSignedRate &gt;= <span class=\"hljs-number\">95</span> &amp;&amp; contratCuSignedRate &lt;= <span class=\"hljs-number\">97</span>) &#123;<br>\t\t\t\tcontratCuSignedStr += <span class=\"hljs-string\">\"尚可，一定数量退订或拒签\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (contratCuSignedRate &gt;= <span class=\"hljs-number\">97</span> &amp;&amp; contratCuSignedRate &lt;= <span class=\"hljs-number\">99</span>) &#123;<br>\t\t\t\tcontratCuSignedStr += <span class=\"hljs-string\">\"很高\"</span>;<br>\t\t\t&#125; <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (contratCuSignedRate &gt; <span class=\"hljs-number\">99</span>) &#123;<br>\t\t\t\tcontratCuSignedStr += <span class=\"hljs-string\">\"非常高\"</span>;<br>\t\t\t&#125;<br>\t\t\tcreateCellAndRow(style4, contratCuSignedStr, row);<br><br>\t\t\t<span class=\"hljs-comment\">//空行</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">23</span>);<br>\t\t\tcreateCellAndRow(style4, <span class=\"hljs-string\">\"\"</span>, row);<br>\t\t\t<br>\t\t\t<span class=\"hljs-comment\">//底侧</span><br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">24</span>);<br>\t\t\tcreateCellAndRow(style5, <span class=\"hljs-string\">\"\"</span>, row);<br>\t\t\t<br>\t\t&#125;<span class=\"hljs-keyword\">else</span>&#123;<br>\t\t\trow = sheet.createRow(<span class=\"hljs-number\">13</span>);<br>\t\t\tcreateCellAndRow(style5, <span class=\"hljs-string\">\"\"</span>, row);<br>\t\t&#125;<br><br>\t\t<span class=\"hljs-keyword\">try</span> &#123;<br>\t\t\tworkbook.write(out);<br>\t\t&#125; <span class=\"hljs-keyword\">catch</span> (IOException e) &#123;<br>\t\t\te.printStackTrace();<br>\t\t&#125;<br>\t&#125;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">createCellAndRow</span><span class=\"hljs-params\">(HSSFCellStyle style, String text, HSSFRow row)</span> </span>&#123;<br>\t\tHSSFCell cell = row.createCell(<span class=\"hljs-number\">0</span>);<br>\t\tcell.setCellStyle(style);<br>\t\tHSSFRichTextString rs = <span class=\"hljs-keyword\">new</span> HSSFRichTextString(text);<br>\t\tcell.setCellValue(rs);<br>\t&#125;<br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\">\t * 上传Excel</span><br><span class=\"hljs-comment\">\t * <span class=\"hljs-doctag\">@param</span> fileNewName</span><br><span class=\"hljs-comment\">\t * <span class=\"hljs-doctag\">@param</span> uploadFile</span><br><span class=\"hljs-comment\">\t * <span class=\"hljs-doctag\">@return</span></span><br><span class=\"hljs-comment\">\t */</span><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> String <span class=\"hljs-title\">uploadExcel</span><span class=\"hljs-params\">(String fileNewName,ByteArrayInputStream uploadFile)</span></span>&#123;<br>\t\t<span class=\"hljs-comment\">// 设置用户属性, 包括appid, secretId和SecretKey</span><br>\t\t\t\t<span class=\"hljs-comment\">// 这些属性可以通过cos控制台获取(https://console.qcloud.com/cos)</span><br>\t\t\t\tString version = PropertiesUtil.getValue(<span class=\"hljs-string\">\"version\"</span>);<br>\t\t\t\t\t <span class=\"hljs-keyword\">long</span> appId = <span class=\"hljs-string\">\"你的appId\"</span>;<br>\t                 String secretId = <span class=\"hljs-string\">\"你的secretId \"</span>;<br>\t                 String secretKey = <span class=\"hljs-string\">\"你的secretKey \"</span>;<br>\t\t\t\t<br>\t\t\t\t<span class=\"hljs-comment\">// 设置要操作的bucket</span><br>\t\t\t\tString bucketName = <span class=\"hljs-string\">\"root\"</span>;<br>\t\t\t\t<span class=\"hljs-comment\">// 初始化客户端配置</span><br>\t\t\t\tClientConfig clientConfig = <span class=\"hljs-keyword\">new</span> ClientConfig();<br>\t\t\t\t<span class=\"hljs-comment\">// 设置bucket所在的区域，比如广州(gz), 天津(tj)</span><br>\t\t\t\tclientConfig.setRegion(<span class=\"hljs-string\">\"sh\"</span>);<br>\t\t\t\t<span class=\"hljs-comment\">// 初始化秘钥信息</span><br>\t\t\t\tCredentials cred = <span class=\"hljs-keyword\">new</span> Credentials(appId, secretId, secretKey);<br>\t\t\t\t<span class=\"hljs-comment\">// 初始化cosClient</span><br>\t\t\t\tCOSClient cosClient = <span class=\"hljs-keyword\">new</span> COSClient(clientConfig, cred);<br>\t\t\t\t<span class=\"hljs-comment\">// 文件操作 //</span><br>\t\t\t\t<span class=\"hljs-comment\">// 1. 上传文件(默认不覆盖)</span><br>\t\t\t\t<span class=\"hljs-comment\">// 将本地的local_file_1.txt上传到bucket下的根分区下,并命名为sample_file.txt</span><br>\t\t\t\t<span class=\"hljs-comment\">// 默认不覆盖, 如果cos上已有文件, 则返回错误</span><br>\t\t\t\tString cosFilePath = <span class=\"hljs-string\">\"/report/\"</span> + fileNewName;<br>\t\t\t\t<br>\t\t\t\t<span class=\"hljs-keyword\">byte</span>[] localFilePath1 = <span class=\"hljs-keyword\">null</span>;<br>\t\t\t\t<span class=\"hljs-keyword\">try</span> &#123;<br>\t\t\t\t\tlocalFilePath1 = ConvertUtil.toByteArray(uploadFile);<br>\t\t\t\t&#125; <span class=\"hljs-keyword\">catch</span> (IOException e1) &#123;<br>\t\t\t\t\t<span class=\"hljs-comment\">// TODO Auto-generated catch block</span><br>\t\t\t\t\te1.printStackTrace();<br>\t\t\t\t&#125;<br>\t\t\t\t<br>\t\t\t\tUploadFileRequest uploadFileRequest = <span class=\"hljs-keyword\">new</span> UploadFileRequest(bucketName, cosFilePath, localFilePath1);<br>\t\t\t\tuploadFileRequest.setEnableShaDigest(<span class=\"hljs-keyword\">false</span>);<br>\t\t\t\tString uploadFileRet = cosClient.uploadFile(uploadFileRequest);<br>\t\t\t\tSystem.out.println(<span class=\"hljs-string\">\"upload file ret:\"</span> + uploadFileRet);<br>\t\t\t\t<span class=\"hljs-comment\">//获取保存路径</span><br>\t\t\t\tObjectMapper om = <span class=\"hljs-keyword\">new</span> ObjectMapper();<br>\t\t\t\tHashMap map = <span class=\"hljs-keyword\">new</span> HashMap&lt;&gt;();<br>\t\t\t\t<span class=\"hljs-keyword\">try</span> &#123;<br>\t\t\t\t\tmap = om.readValue(uploadFileRet, HashMap<span class=\"hljs-class\">.<span class=\"hljs-keyword\">class</span>)</span>;<br>\t\t\t\t&#125; <span class=\"hljs-keyword\">catch</span> (JsonParseException e) &#123;<br>\t\t\t\t\t<span class=\"hljs-comment\">// TODO Auto-generated catch block</span><br>\t\t\t\t\te.printStackTrace();<br>\t\t\t\t&#125; <span class=\"hljs-keyword\">catch</span> (JsonMappingException e) &#123;<br>\t\t\t\t\t<span class=\"hljs-comment\">// TODO Auto-generated catch block</span><br>\t\t\t\t\te.printStackTrace();<br>\t\t\t\t&#125; <span class=\"hljs-keyword\">catch</span> (IOException e) &#123;<br>\t\t\t\t\t<span class=\"hljs-comment\">// TODO Auto-generated catch block</span><br>\t\t\t\t\te.printStackTrace();<br>\t\t\t\t&#125;<br>\t\t\t\tHashMap&lt;String, String&gt; value = (HashMap&lt;String, String&gt;) map.get(<span class=\"hljs-string\">\"data\"</span>);<br>\t\t\t\t<span class=\"hljs-keyword\">return</span> value.get(<span class=\"hljs-string\">\"source_url\"</span>);<br>\t\t\t\t<br>\t&#125;<br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">boolean</span> <span class=\"hljs-title\">addReportExcelToDB</span><span class=\"hljs-params\">(ReportResult rr, String url)</span> </span>&#123;<br>\t\t<br>\t\t<span class=\"hljs-keyword\">if</span>(StringUtils.isEmpty(url))&#123;<br>\t\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>\t\t&#125;<br>\t\t<span class=\"hljs-keyword\">if</span>(rr == <span class=\"hljs-keyword\">null</span>)&#123;<br>\t\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>\t\t&#125;<br>\t\t<br>\t\tProjectReportRecord prr = <span class=\"hljs-keyword\">new</span> ProjectReportRecord();<br>\t\tprr.setCreateTime(DateUtil.format(<span class=\"hljs-keyword\">new</span> Date()));<br>\t\tprr.setProjectId(rr.getProjectId());<br>\t\tprr.setProjectName(rr.getProjectName());<br>\t\tprr.setStartTime(rr.getStartTime());<br>\t\tprr.setEndTime(rr.getEndTime());<br>\t\tprr.setUrl(url);<br>\t\tString report = <span class=\"hljs-string\">\"\"</span>;<br>\t\t<span class=\"hljs-keyword\">if</span>(<span class=\"hljs-string\">\"案场周报\"</span>.equals(rr.getReportName()))&#123;<br>\t\t\treport = <span class=\"hljs-string\">\"week\"</span>;<br>\t\t&#125;<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-string\">\"案场月报\"</span>.equals(rr.getReportName()))&#123;<br>\t\t\treport = <span class=\"hljs-string\">\"month\"</span>;<br>\t\t&#125;<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-string\">\"案场季报\"</span>.equals(rr.getReportName()))&#123;<br>\t\t\treport = <span class=\"hljs-string\">\"quarter\"</span>;<br>\t\t&#125;<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-string\">\"案场半年报\"</span>.equals(rr.getReportName()))&#123;<br>\t\t\treport = <span class=\"hljs-string\">\"half\"</span>;<br>\t\t&#125;<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-string\">\"案场年报\"</span>.equals(rr.getReportName()))&#123;<br>\t\t\treport = <span class=\"hljs-string\">\"year\"</span>;<br>\t\t&#125;<span class=\"hljs-keyword\">else</span>&#123;<br>\t\t\treport = <span class=\"hljs-string\">\"other\"</span>;<br>\t\t&#125;<br>\t\tprr.setReportName(report);<br>\t\t<br>\t\tbaseDao.save(prr);<br>\t\t<br>\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">true</span>;<br>\t&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"生成的文件示例\"><a href=\"#生成的文件示例\" class=\"headerlink\" title=\"生成的文件示例\"></a>生成的文件示例</h3><p><strong>周报或者其他报告都是后台自动根据时间进行判断的</strong></p>\n<p><strong>周报</strong><br><img    class=\"lazyload\" data-original=\"http://img.blog.csdn.net/20171020105154962?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvV2ludGVyX2NoZW4wMDE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<p><strong>季报</strong></p>\n<p><img    class=\"lazyload\" data-original=\"http://img.blog.csdn.net/20171020105212669?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvV2ludGVyX2NoZW4wMDE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<p>以上</p>\n","raw":null,"categories":[{"name":"JavaUtils","path":"api/categories/JavaUtils.json"}],"tags":[{"name":"java","path":"api/tags/java.json"},{"name":"poi","path":"api/tags/poi.json"}]},{"title":"Spring中使用log4j详细配置","slug":"spring-log4j","date":"2017-09-26T08:39:00.000Z","updated":"2022-12-01T01:32:39.787Z","comments":true,"top":null,"path":"api/articles/spring-log4j.json","excerpt":" [Figure]     log4j.properties的详细配置：","keywords":"java,spring,springboot,springcloud,mybatis,jQuery,html,css","cover":"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046779668417.jpg","content":"<p><img   class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046780016875.jpg\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"  alt=\"\"><br>第一步：导入log4j-1.2.17.jar包。<br>第二步：src同级创建并设置log4j.properties。<br>    log4j.properties的详细配置：</p>\n<a id=\"more\"></a>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs properties\"><span class=\"hljs-comment\"> ### 设置 ###</span><br><span class=\"hljs-meta\">log4j.rootLogger</span> = <span class=\"hljs-string\">debug,stdout,D,E</span><br><br><span class=\"hljs-comment\">### 输出信息到控制抬 ###</span><br><span class=\"hljs-meta\">log4j.appender.stdout</span> = <span class=\"hljs-string\">org.apache.log4j.ConsoleAppender</span><br><span class=\"hljs-meta\">log4j.appender.stdout.Target</span> = <span class=\"hljs-string\">System.out</span><br><span class=\"hljs-meta\">log4j.appender.stdout.layout</span> = <span class=\"hljs-string\">org.apache.log4j.PatternLayout</span><br><span class=\"hljs-meta\">log4j.appender.stdout.layout.ConversionPattern</span> = <span class=\"hljs-string\">[%-5p] %d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; method:%l%n%m%n</span><br><br><span class=\"hljs-comment\">### 输出DEBUG 级别以上的日志到=E://logs/error.log ###</span><br><span class=\"hljs-meta\">log4j.appender.D</span> = <span class=\"hljs-string\">org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"hljs-meta\">log4j.appender.D.File</span> = <span class=\"hljs-string\">E://logs/log.log</span><br><span class=\"hljs-meta\">log4j.appender.D.Append</span> = <span class=\"hljs-string\">true</span><br><span class=\"hljs-meta\">log4j.appender.D.Threshold</span> = <span class=\"hljs-string\">DEBUG </span><br><span class=\"hljs-meta\">log4j.appender.D.layout</span> = <span class=\"hljs-string\">org.apache.log4j.PatternLayout</span><br><span class=\"hljs-meta\">log4j.appender.D.layout.ConversionPattern</span> = <span class=\"hljs-string\">%-d&#123;yyyy-MM-dd HH:mm:ss&#125;  [ %t:%r ] - [ %p ]  %m%n</span><br><br><span class=\"hljs-comment\">### 输出ERROR 级别以上的日志到=E://logs/error.log ###</span><br><span class=\"hljs-meta\">log4j.appender.E</span> = <span class=\"hljs-string\">org.apache.log4j.DailyRollingFileAppender</span><br><span class=\"hljs-meta\">log4j.appender.E.File</span> =<span class=\"hljs-string\">E://logs/error.log </span><br><span class=\"hljs-meta\">log4j.appender.E.Append</span> = <span class=\"hljs-string\">true</span><br><span class=\"hljs-meta\">log4j.appender.E.Threshold</span> = <span class=\"hljs-string\">ERROR </span><br><span class=\"hljs-meta\">log4j.appender.E.layout</span> = <span class=\"hljs-string\">org.apache.log4j.PatternLayout</span><br><span class=\"hljs-meta\">log4j.appender.E.layout.ConversionPattern</span> = <span class=\"hljs-string\">%-d&#123;yyyy-MM-dd HH:mm:ss&#125;  [ %t:%r ] - [ %p ]  %m%n</span><br></code></pre></td></tr></table></figure>\n\n<p><a href=\"http://blog.csdn.net/qq_30175203/article/details/52084127\" target=\"_blank\" rel=\"noopener\">更详细的log4j.properties配置</a></p>\n<p>第三步：web.xml中加入配置详细：</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-comment\">&lt;!-- 设置根目录 --&gt;</span>  <br><span class=\"hljs-comment\">&lt;!--初始化log4j.properties--&gt;</span><br>   <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">context-param</span>&gt;</span>  <br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">param-name</span>&gt;</span>log4jConfigLocation<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">param-name</span>&gt;</span>  <br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">param-value</span>&gt;</span>/WEB-INF/classes/log4j.properties<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">param-value</span>&gt;</span>  <br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">context-param</span>&gt;</span>  <br><span class=\"hljs-comment\">&lt;!-- 3000表示 开一条watchdog线程每60秒扫描一下配置文件的变化;这样便于日志存放位置的改变 --&gt;</span>  <br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">context-param</span>&gt;</span>    <br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">param-name</span>&gt;</span>log4jRefreshInterval<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">param-name</span>&gt;</span>    <br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">param-value</span>&gt;</span>3000<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">param-value</span>&gt;</span>    <br>   <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">context-param</span>&gt;</span>   <br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">listener</span>&gt;</span>  <br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">listener-class</span>&gt;</span>org.springframework.web.util.Log4jConfigListener<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">listener-class</span>&gt;</span>  <br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">listener</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n\n<p>applicationContext.xml就不需要配置了</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-meta\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span>  <br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">beans</span> <span class=\"hljs-attr\">xmlns</span>=<span class=\"hljs-string\">\"http://www.springframework.org/schema/beans\"</span>  </span><br><span class=\"hljs-tag\">    <span class=\"hljs-attr\">xmlns:xsi</span>=<span class=\"hljs-string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span> <span class=\"hljs-attr\">xmlns:context</span>=<span class=\"hljs-string\">\"http://www.springframework.org/schema/context\"</span>  </span><br><span class=\"hljs-tag\">    <span class=\"hljs-attr\">xmlns:aop</span>=<span class=\"hljs-string\">\"http://www.springframework.org/schema/aop\"</span>  </span><br><span class=\"hljs-tag\">    <span class=\"hljs-attr\">xsi:schemaLocation</span>=<span class=\"hljs-string\">\"    </span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\"></span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\">http://www.springframework.org/schema/beans</span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\"></span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\"></span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\">http://www.springframework.org/schema/beans/spring-beans-3.2.xsd</span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\"></span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\"></span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\">http://www.springframework.org/schema/aop</span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\"></span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\"></span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\">http://www.springframework.org/schema/aop/spring-aop-3.2.xsd</span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\"></span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\"></span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\">http://www.springframework.org/schema/context</span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\"></span></span><br><span class=\"hljs-tag\"><span class=\"hljs-string\">           http://www.springframework.org/schema/context/spring-context-3.2.xsd\"</span>&gt;</span>  <br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">beans</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p>然后日志就可以随着spring的启动而启动了。</p>\n<p>如果想把日志文件打印到Tomcat日志文件中：<br>log4j.appender.R.File=${catalina.home}/logs/youLogFile.log </p>\n<p>这个方法只能Tomcat使用，其它容器就不行了。</p>\n","raw":null,"categories":[{"name":"spring","path":"api/categories/spring.json"}],"tags":[{"name":"spring","path":"api/tags/spring.json"},{"name":"log4j","path":"api/tags/log4j.json"}]},{"title":"解决Mysql存入大量TEXT类型的数据报错","slug":"mysql-text","date":"2017-09-26T08:37:00.000Z","updated":"2022-12-01T01:32:39.787Z","comments":true,"top":null,"path":"api/articles/mysql-text.json","excerpt":" [Figure] ","keywords":"java,spring,springboot,springcloud,mybatis,jQuery,html,css","cover":"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046775948378.jpg","content":"<p><img   class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046776177067.jpg\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"  alt=\"\"><br>主要的原因是因为max_sort_length的默认值为1024,=<br>解决办法：该参数是动态参数，任何客户端都可以在Mysql数据库运行时更改该参数的值，例如：<br>1.首先应该查询一下这个参数的默认值为多少</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">mysql&gt; SELECT @@global.max_sort_length;<br></code></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>2.然后去设置这个值：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">mysql&gt; SET GLOBAL max_sort_length&#x3D;2048;  &#x2F;&#x2F;2048这个数值由你了<br></code></pre></td></tr></table></figure>\n<p>3.然后再查询一下这个参数的默认值：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">mysql&gt; SELECT @@global.max_sort_length;<br></code></pre></td></tr></table></figure>\n<p>以上问题就解决了</p>\n","raw":null,"categories":[{"name":"mysql","path":"api/categories/mysql.json"}],"tags":[{"name":"mysql","path":"api/tags/mysql.json"}]},{"title":"Spring boot Mybatis 整合（完整版）","slug":"springboot-mybatis","date":"2017-09-25T15:41:00.000Z","updated":"2022-12-01T01:32:39.787Z","comments":true,"top":null,"path":"api/articles/springboot-mybatis.json","excerpt":" [Figure] 本项目使用的环境：开发工具：Intellij IDEA 2017.1.3jdk：1.8.0_161maven:3.3.9","keywords":"java,spring,springboot,springcloud,mybatis,jQuery,html,css","cover":"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046780594770.jpg","content":"<p><img   class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046780820013.jpg\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"  alt=\"\"></p>\n<p><strong>本项目使用的环境：</strong></p>\n<ul>\n<li>开发工具：Intellij IDEA 2017.1.3</li>\n<li>jdk：1.8.0_161</li>\n<li>maven:3.3.9<a id=\"more\"></a>\n\n</li>\n</ul>\n<p><strong>额外功能</strong></p>\n<ul>\n<li>PageHelper 分页插件</li>\n<li>mybatis generator 自动生成代码插件</li>\n</ul>\n<p><strong>步骤：</strong><br><strong>1.创建一个springboot项目：</strong><br><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046464261112.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span><br><strong>2.创建项目的文件结构以及jdk的版本</strong><br><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046464366644.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span><br><strong>3.选择项目所需要的依赖</strong><br><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046464475646.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span><br><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046464579648.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span><br>然后点击finish</p>\n<p><strong>5.看一下文件的结构：</strong><br><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046464693133.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<p><strong>6.查看一下pom.xml：</strong></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-meta\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">project</span> <span class=\"hljs-attr\">xmlns</span>=<span class=\"hljs-string\">\"http://maven.apache.org/POM/4.0.0\"</span> <span class=\"hljs-attr\">xmlns:xsi</span>=<span class=\"hljs-string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span><br><span class=\"hljs-tag\">\t<span class=\"hljs-attr\">xsi:schemaLocation</span>=<span class=\"hljs-string\">\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">modelVersion</span>&gt;</span>4.0.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">modelVersion</span>&gt;</span><br><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.winter<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>springboot-mybatis-demo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>0.0.1-SNAPSHOT<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">packaging</span>&gt;</span>jar<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">packaging</span>&gt;</span><br><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">name</span>&gt;</span>springboot-mybatis-demo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">name</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">description</span>&gt;</span>Demo project for Spring Boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">description</span>&gt;</span><br><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">parent</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-parent<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>1.5.6.RELEASE<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">relativePath</span>/&gt;</span> <span class=\"hljs-comment\">&lt;!-- lookup parent from repository --&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">parent</span>&gt;</span><br><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">properties</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">project.build.sourceEncoding</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">project.reporting.outputEncoding</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">java.version</span>&gt;</span>1.7<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">java.version</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">properties</span>&gt;</span><br><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependencies</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.mybatis.spring.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>1.3.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-web<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-test<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">scope</span>&gt;</span>test<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">scope</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>mysql<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>5.1.35<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-comment\">&lt;!-- alibaba的druid数据库连接池 --&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.alibaba<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>druid<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>1.0.11<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>jackson-core<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>jackson-databind<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.fasterxml.jackson.datatype<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>jackson-datatype-joda<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.fasterxml.jackson.module<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>jackson-module-parameter-names<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-comment\">&lt;!-- 分页插件 --&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.github.pagehelper<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>1.1.2<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t<span class=\"hljs-comment\">&lt;!-- alibaba的druid数据库连接池 --&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.alibaba<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>druid-spring-boot-starter<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>1.1.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependencies</span>&gt;</span><br><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">build</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">plugins</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">plugin</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">plugin</span>&gt;</span><br>\t\t\t<span class=\"hljs-comment\">&lt;!-- mybatis generator 自动生成代码插件 --&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">plugin</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.mybatis.generator<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>1.3.2<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">configuration</span>&gt;</span><br>\t\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">configurationFile</span>&gt;</span>$&#123;basedir&#125;/src/main/resources/generator/generatorConfig.xml<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">configurationFile</span>&gt;</span><br>\t\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">overwrite</span>&gt;</span>true<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">overwrite</span>&gt;</span><br>\t\t\t\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">verbose</span>&gt;</span>true<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">verbose</span>&gt;</span><br>\t\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">configuration</span>&gt;</span><br>\t\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">plugin</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">plugins</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">build</span>&gt;</span><br><br><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">project</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>7.项目不使用application.properties文件 而使用更加简洁的application.yml文件：</strong><br><strong>将原有的resource文件夹下的application.properties文件删除，创建一个新的application.yml配置文件，</strong><br><strong>文件的内容如下：</strong></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs yaml\"><br><span class=\"hljs-attr\">server:</span><br>  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">8080</span><br><br><span class=\"hljs-attr\">spring:</span><br>    <span class=\"hljs-attr\">datasource:</span><br>        <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">test</span><br>        <span class=\"hljs-attr\">url:</span> <span class=\"hljs-string\">jdbc:mysql://127.0.0.1:3306/depot</span><br>        <span class=\"hljs-attr\">username:</span> <span class=\"hljs-string\">root</span><br>        <span class=\"hljs-attr\">password:</span> <span class=\"hljs-string\">root</span><br>        <span class=\"hljs-comment\"># 使用druid数据源</span><br>        <span class=\"hljs-attr\">type:</span> <span class=\"hljs-string\">com.alibaba.druid.pool.DruidDataSource</span><br>        <span class=\"hljs-attr\">driver-class-name:</span> <span class=\"hljs-string\">com.mysql.jdbc.Driver</span><br>        <span class=\"hljs-attr\">filters:</span> <span class=\"hljs-string\">stat</span><br>        <span class=\"hljs-attr\">maxActive:</span> <span class=\"hljs-number\">20</span><br>        <span class=\"hljs-attr\">initialSize:</span> <span class=\"hljs-number\">1</span><br>        <span class=\"hljs-attr\">maxWait:</span> <span class=\"hljs-number\">60000</span><br>        <span class=\"hljs-attr\">minIdle:</span> <span class=\"hljs-number\">1</span><br>        <span class=\"hljs-attr\">timeBetweenEvictionRunsMillis:</span> <span class=\"hljs-number\">60000</span><br>        <span class=\"hljs-attr\">minEvictableIdleTimeMillis:</span> <span class=\"hljs-number\">300000</span><br>        <span class=\"hljs-attr\">validationQuery:</span> <span class=\"hljs-string\">select</span> <span class=\"hljs-string\">'x'</span><br>        <span class=\"hljs-attr\">testWhileIdle:</span> <span class=\"hljs-literal\">true</span><br>        <span class=\"hljs-attr\">testOnBorrow:</span> <span class=\"hljs-literal\">false</span><br>        <span class=\"hljs-attr\">testOnReturn:</span> <span class=\"hljs-literal\">false</span><br>        <span class=\"hljs-attr\">poolPreparedStatements:</span> <span class=\"hljs-literal\">true</span><br>        <span class=\"hljs-attr\">maxOpenPreparedStatements:</span> <span class=\"hljs-number\">20</span><br><span class=\"hljs-attr\">mybatis:</span><br>  <span class=\"hljs-attr\">mapper-locations:</span> <span class=\"hljs-string\">classpath:mapping/*.xml</span><br>  <span class=\"hljs-attr\">type-aliases-package:</span> <span class=\"hljs-string\">com.winter.model</span><br><br><span class=\"hljs-comment\">#pagehelper分页插件</span><br><span class=\"hljs-attr\">pagehelper:</span><br>    <span class=\"hljs-attr\">helperDialect:</span> <span class=\"hljs-string\">mysql</span><br>    <span class=\"hljs-attr\">reasonable:</span> <span class=\"hljs-literal\">true</span><br>    <span class=\"hljs-attr\">supportMethodsArguments:</span> <span class=\"hljs-literal\">true</span><br>    <span class=\"hljs-attr\">params:</span> <span class=\"hljs-string\">count=countSql</span><br></code></pre></td></tr></table></figure>\n<p><strong>8.创建数据库：</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs mysql\">CREATE DATABASE mytest;<br><br>CREATE TABLE t_user(<br>  user_id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,<br>  user_name VARCHAR(255) NOT NULL ,<br>  password VARCHAR(255) NOT NULL ,<br>  phone VARCHAR(255) NOT NULL<br>) ENGINE&#x3D;INNODB AUTO_INCREMENT&#x3D;1000 DEFAULT CHARSET&#x3D;utf8;<br></code></pre></td></tr></table></figure>\n<p><strong>9.使用mybatis generator 自动生成代码：</strong></p>\n<ul>\n<li>配置pom.xml中generator 插件所对应的配置文件       ${basedir}/src/main/resources/generator/generatorConfig.xml</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-meta\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span><br><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-meta-keyword\">generatorConfiguration</span></span><br><span class=\"hljs-meta\">        <span class=\"hljs-meta-keyword\">PUBLIC</span> <span class=\"hljs-meta-string\">\"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"</span></span><br><span class=\"hljs-meta\">        <span class=\"hljs-meta-string\">\"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">generatorConfiguration</span>&gt;</span><br>    <span class=\"hljs-comment\">&lt;!-- 数据库驱动:选择你的本地硬盘上面的数据库驱动包--&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">classPathEntry</span>  <span class=\"hljs-attr\">location</span>=<span class=\"hljs-string\">\"E:\\developer\\mybatis-generator-core-1.3.2\\lib\\mysql-connector-java-5.1.25-bin.jar\"</span>/&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">context</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"DB2Tables\"</span>  <span class=\"hljs-attr\">targetRuntime</span>=<span class=\"hljs-string\">\"MyBatis3\"</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">commentGenerator</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"suppressDate\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"true\"</span>/&gt;</span><br>            <span class=\"hljs-comment\">&lt;!-- 是否去除自动生成的注释 true：是 ： false:否 --&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"suppressAllComments\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"true\"</span>/&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">commentGenerator</span>&gt;</span><br>        <span class=\"hljs-comment\">&lt;!--数据库链接URL，用户名、密码 --&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">jdbcConnection</span> <span class=\"hljs-attr\">driverClass</span>=<span class=\"hljs-string\">\"com.mysql.jdbc.Driver\"</span> <span class=\"hljs-attr\">connectionURL</span>=<span class=\"hljs-string\">\"jdbc:mysql://127.0.0.1/mytest\"</span> <span class=\"hljs-attr\">userId</span>=<span class=\"hljs-string\">\"root\"</span> <span class=\"hljs-attr\">password</span>=<span class=\"hljs-string\">\"root\"</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">jdbcConnection</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">javaTypeResolver</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"forceBigDecimals\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"false\"</span>/&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">javaTypeResolver</span>&gt;</span><br>        <span class=\"hljs-comment\">&lt;!-- 生成模型的包名和位置--&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">javaModelGenerator</span> <span class=\"hljs-attr\">targetPackage</span>=<span class=\"hljs-string\">\"com.winter.model\"</span> <span class=\"hljs-attr\">targetProject</span>=<span class=\"hljs-string\">\"src/main/java\"</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"enableSubPackages\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"true\"</span>/&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"trimStrings\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"true\"</span>/&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">javaModelGenerator</span>&gt;</span><br>        <span class=\"hljs-comment\">&lt;!-- 生成映射文件的包名和位置--&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">sqlMapGenerator</span> <span class=\"hljs-attr\">targetPackage</span>=<span class=\"hljs-string\">\"mapping\"</span> <span class=\"hljs-attr\">targetProject</span>=<span class=\"hljs-string\">\"src/main/resources\"</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"enableSubPackages\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"true\"</span>/&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">sqlMapGenerator</span>&gt;</span><br>        <span class=\"hljs-comment\">&lt;!-- 生成DAO的包名和位置--&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">javaClientGenerator</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"XMLMAPPER\"</span> <span class=\"hljs-attr\">targetPackage</span>=<span class=\"hljs-string\">\"com.winter.mapper\"</span> <span class=\"hljs-attr\">targetProject</span>=<span class=\"hljs-string\">\"src/main/java\"</span>&gt;</span><br>            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"enableSubPackages\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"true\"</span>/&gt;</span><br>        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">javaClientGenerator</span>&gt;</span><br>        <span class=\"hljs-comment\">&lt;!-- 要生成的表 tableName是数据库中的表名或视图名 domainObjectName是实体类名--&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">table</span> <span class=\"hljs-attr\">tableName</span>=<span class=\"hljs-string\">\"t_user\"</span> <span class=\"hljs-attr\">domainObjectName</span>=<span class=\"hljs-string\">\"User\"</span> <span class=\"hljs-attr\">enableCountByExample</span>=<span class=\"hljs-string\">\"false\"</span> <span class=\"hljs-attr\">enableUpdateByExample</span>=<span class=\"hljs-string\">\"false\"</span> <span class=\"hljs-attr\">enableDeleteByExample</span>=<span class=\"hljs-string\">\"false\"</span> <span class=\"hljs-attr\">enableSelectByExample</span>=<span class=\"hljs-string\">\"false\"</span> <span class=\"hljs-attr\">selectByExampleQueryId</span>=<span class=\"hljs-string\">\"false\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">table</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">context</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">generatorConfiguration</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n\n<ul>\n<li>点击run-Edit Configurations </li>\n</ul>\n<p><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046464807165.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<ul>\n<li>添加配置</li>\n</ul>\n<p><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046464921174.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<ul>\n<li><p>运行<br><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046465025562.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<p>  最后生成的文件以及结构：</p>\n</li>\n</ul>\n<p><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046465055490.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<p><strong>10. 生成的文件</strong></p>\n<p><strong>UserMapper.java</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-keyword\">package</span> com.winter.mapper;<br><br><span class=\"hljs-keyword\">import</span> com.winter.model.User;<br><br><span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title\">UserMapper</span> </span>&#123;<br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">deleteByPrimaryKey</span><span class=\"hljs-params\">(Integer userId)</span></span>;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">insert</span><span class=\"hljs-params\">(User record)</span></span>;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">insertSelective</span><span class=\"hljs-params\">(User record)</span></span>;<br><br>    <span class=\"hljs-function\">User <span class=\"hljs-title\">selectByPrimaryKey</span><span class=\"hljs-params\">(Integer userId)</span></span>;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">updateByPrimaryKeySelective</span><span class=\"hljs-params\">(User record)</span></span>;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">updateByPrimaryKey</span><span class=\"hljs-params\">(User record)</span></span>;<br>\t<span class=\"hljs-comment\">//这个方式我自己加的</span><br>\t<span class=\"hljs-function\">List&lt;User&gt; <span class=\"hljs-title\">selectAllUser</span><span class=\"hljs-params\">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p><strong>User.java</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-keyword\">package</span> com.winter.model;<br><br><span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">User</span> </span>&#123;<br>    <span class=\"hljs-keyword\">private</span> Integer userId;<br><br>    <span class=\"hljs-keyword\">private</span> String userName;<br><br>    <span class=\"hljs-keyword\">private</span> String password;<br><br>    <span class=\"hljs-keyword\">private</span> String phone;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> Integer <span class=\"hljs-title\">getUserId</span><span class=\"hljs-params\">()</span> </span>&#123;<br>        <span class=\"hljs-keyword\">return</span> userId;<br>    &#125;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setUserId</span><span class=\"hljs-params\">(Integer userId)</span> </span>&#123;<br>        <span class=\"hljs-keyword\">this</span>.userId = userId;<br>    &#125;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title\">getUserName</span><span class=\"hljs-params\">()</span> </span>&#123;<br>        <span class=\"hljs-keyword\">return</span> userName;<br>    &#125;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setUserName</span><span class=\"hljs-params\">(String userName)</span> </span>&#123;<br>        <span class=\"hljs-keyword\">this</span>.userName = userName == <span class=\"hljs-keyword\">null</span> ? <span class=\"hljs-keyword\">null</span> : userName.trim();<br>    &#125;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title\">getPassword</span><span class=\"hljs-params\">()</span> </span>&#123;<br>        <span class=\"hljs-keyword\">return</span> password;<br>    &#125;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setPassword</span><span class=\"hljs-params\">(String password)</span> </span>&#123;<br>        <span class=\"hljs-keyword\">this</span>.password = password == <span class=\"hljs-keyword\">null</span> ? <span class=\"hljs-keyword\">null</span> : password.trim();<br>    &#125;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title\">getPhone</span><span class=\"hljs-params\">()</span> </span>&#123;<br>        <span class=\"hljs-keyword\">return</span> phone;<br>    &#125;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">setPhone</span><span class=\"hljs-params\">(String phone)</span> </span>&#123;<br>        <span class=\"hljs-keyword\">this</span>.phone = phone == <span class=\"hljs-keyword\">null</span> ? <span class=\"hljs-keyword\">null</span> : phone.trim();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n\n\n<p>对于sql语句这种黄色的背景，真心是看不下去了（解决方案）：<br><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046465130102.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<p>*<em>UserMapper.xml    *</em></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><br><span class=\"hljs-meta\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;</span><br><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-meta-keyword\">mapper</span> <span class=\"hljs-meta-keyword\">PUBLIC</span> <span class=\"hljs-meta-string\">\"-//mybatis.org//DTD Mapper 3.0//EN\"</span> <span class=\"hljs-meta-string\">\"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"</span> &gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">mapper</span> <span class=\"hljs-attr\">namespace</span>=<span class=\"hljs-string\">\"com.winter.mapper.UserMapper\"</span> &gt;</span><br>  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">resultMap</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"BaseResultMap\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"com.winter.model.User\"</span> &gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">id</span> <span class=\"hljs-attr\">column</span>=<span class=\"hljs-string\">\"user_id\"</span> <span class=\"hljs-attr\">property</span>=<span class=\"hljs-string\">\"userId\"</span> <span class=\"hljs-attr\">jdbcType</span>=<span class=\"hljs-string\">\"INTEGER\"</span> /&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">result</span> <span class=\"hljs-attr\">column</span>=<span class=\"hljs-string\">\"user_name\"</span> <span class=\"hljs-attr\">property</span>=<span class=\"hljs-string\">\"userName\"</span> <span class=\"hljs-attr\">jdbcType</span>=<span class=\"hljs-string\">\"VARCHAR\"</span> /&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">result</span> <span class=\"hljs-attr\">column</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">property</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">jdbcType</span>=<span class=\"hljs-string\">\"VARCHAR\"</span> /&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">result</span> <span class=\"hljs-attr\">column</span>=<span class=\"hljs-string\">\"phone\"</span> <span class=\"hljs-attr\">property</span>=<span class=\"hljs-string\">\"phone\"</span> <span class=\"hljs-attr\">jdbcType</span>=<span class=\"hljs-string\">\"VARCHAR\"</span> /&gt;</span><br>  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">resultMap</span>&gt;</span><br>  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">sql</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"Base_Column_List\"</span> &gt;</span><br>    user_id, user_name, password, phone<br>  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">sql</span>&gt;</span><br>  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">select</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"selectByPrimaryKey\"</span> <span class=\"hljs-attr\">resultMap</span>=<span class=\"hljs-string\">\"BaseResultMap\"</span> <span class=\"hljs-attr\">parameterType</span>=<span class=\"hljs-string\">\"java.lang.Integer\"</span> &gt;</span><br>    select <br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">include</span> <span class=\"hljs-attr\">refid</span>=<span class=\"hljs-string\">\"Base_Column_List\"</span> /&gt;</span><br>    from t_user<br>    where user_id = #&#123;userId,jdbcType=INTEGER&#125;<br>  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">select</span>&gt;</span><br>  <span class=\"hljs-comment\">&lt;!-- 这个方法是我自己加的 --&gt;</span><br>  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">select</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"selectAllUser\"</span> <span class=\"hljs-attr\">resultMap</span>=<span class=\"hljs-string\">\"BaseResultMap\"</span>&gt;</span><br>    select<br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">include</span> <span class=\"hljs-attr\">refid</span>=<span class=\"hljs-string\">\"Base_Column_List\"</span> /&gt;</span><br>    from t_user<br>  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">select</span>&gt;</span><br>  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">delete</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"deleteByPrimaryKey\"</span> <span class=\"hljs-attr\">parameterType</span>=<span class=\"hljs-string\">\"java.lang.Integer\"</span> &gt;</span><br>    delete from t_user<br>    where user_id = #&#123;userId,jdbcType=INTEGER&#125;<br>  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">delete</span>&gt;</span><br>  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">insert</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"insert\"</span> <span class=\"hljs-attr\">parameterType</span>=<span class=\"hljs-string\">\"com.winter.model.User\"</span> &gt;</span><br>    insert into t_user (user_id, user_name, password, <br>      phone)<br>    values (#&#123;userId,jdbcType=INTEGER&#125;, #&#123;userName,jdbcType=VARCHAR&#125;, #&#123;password,jdbcType=VARCHAR&#125;, <br>      #&#123;phone,jdbcType=VARCHAR&#125;)<br>  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">insert</span>&gt;</span><br>  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">insert</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"insertSelective\"</span> <span class=\"hljs-attr\">parameterType</span>=<span class=\"hljs-string\">\"com.winter.model.User\"</span> &gt;</span><br>    insert into t_user<br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">trim</span> <span class=\"hljs-attr\">prefix</span>=<span class=\"hljs-string\">\"(\"</span> <span class=\"hljs-attr\">suffix</span>=<span class=\"hljs-string\">\")\"</span> <span class=\"hljs-attr\">suffixOverrides</span>=<span class=\"hljs-string\">\",\"</span> &gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"userId != null\"</span> &gt;</span><br>        user_id,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"userName != null\"</span> &gt;</span><br>        user_name,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"password != null\"</span> &gt;</span><br>        password,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"phone != null\"</span> &gt;</span><br>        phone,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">trim</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">trim</span> <span class=\"hljs-attr\">prefix</span>=<span class=\"hljs-string\">\"values (\"</span> <span class=\"hljs-attr\">suffix</span>=<span class=\"hljs-string\">\")\"</span> <span class=\"hljs-attr\">suffixOverrides</span>=<span class=\"hljs-string\">\",\"</span> &gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"userId != null\"</span> &gt;</span><br>        #&#123;userId,jdbcType=INTEGER&#125;,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"userName != null\"</span> &gt;</span><br>        #&#123;userName,jdbcType=VARCHAR&#125;,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"password != null\"</span> &gt;</span><br>        #&#123;password,jdbcType=VARCHAR&#125;,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"phone != null\"</span> &gt;</span><br>        #&#123;phone,jdbcType=VARCHAR&#125;,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">trim</span>&gt;</span><br>  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">insert</span>&gt;</span><br>  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">update</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"updateByPrimaryKeySelective\"</span> <span class=\"hljs-attr\">parameterType</span>=<span class=\"hljs-string\">\"com.winter.model.User\"</span> &gt;</span><br>    update t_user<br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">set</span> &gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"userName != null\"</span> &gt;</span><br>        user_name = #&#123;userName,jdbcType=VARCHAR&#125;,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"password != null\"</span> &gt;</span><br>        password = #&#123;password,jdbcType=VARCHAR&#125;,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">if</span> <span class=\"hljs-attr\">test</span>=<span class=\"hljs-string\">\"phone != null\"</span> &gt;</span><br>        phone = #&#123;phone,jdbcType=VARCHAR&#125;,<br>      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">if</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">set</span>&gt;</span><br>    where user_id = #&#123;userId,jdbcType=INTEGER&#125;<br>  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">update</span>&gt;</span><br>  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">update</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"updateByPrimaryKey\"</span> <span class=\"hljs-attr\">parameterType</span>=<span class=\"hljs-string\">\"com.winter.model.User\"</span> &gt;</span><br>    update t_user<br>    set user_name = #&#123;userName,jdbcType=VARCHAR&#125;,<br>      password = #&#123;password,jdbcType=VARCHAR&#125;,<br>      phone = #&#123;phone,jdbcType=VARCHAR&#125;<br>    where user_id = #&#123;userId,jdbcType=INTEGER&#125;<br>  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">update</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>11.打开类SpringbootMybatisDemoApplication.java，这个是springboot的启动类。我们需要添加点东西：</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-keyword\">package</span> com.winter;<br><br><span class=\"hljs-keyword\">import</span> org.mybatis.spring.annotation.MapperScan;<br><span class=\"hljs-keyword\">import</span> org.springframework.boot.SpringApplication;<br><span class=\"hljs-keyword\">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><br><span class=\"hljs-meta\">@SpringBootApplication</span><br><span class=\"hljs-meta\">@MapperScan</span>(<span class=\"hljs-string\">\"com.winter.mapper\"</span>)<span class=\"hljs-comment\">//将项目中对应的mapper类的路径加进来就可以了</span><br><span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">SpringbootMybatisDemoApplication</span> </span>&#123;<br><br>\t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">(String[] args)</span> </span>&#123;<br>\t\tSpringApplication.run(SpringbootMybatisDemoApplication<span class=\"hljs-class\">.<span class=\"hljs-keyword\">class</span>, <span class=\"hljs-title\">args</span>)</span>;<br>\t&#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p><strong>12.到这里所有的搭建工作都完成了，接下来就是测试的工作，没使用junit4进行测试：</strong><br><strong>首先看一下完成之后的文件的结构：</strong><br><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046465294088.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<p><strong>现在controller，service层的代码都写好：</strong></p>\n<p><strong>UserController.java</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-keyword\">package</span> com.winter.Controller;<br><br><span class=\"hljs-keyword\">import</span> com.winter.model.User;<br><span class=\"hljs-keyword\">import</span> com.winter.service.UserService;<br><span class=\"hljs-keyword\">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class=\"hljs-keyword\">import</span> org.springframework.stereotype.Controller;<br><span class=\"hljs-keyword\">import</span> org.springframework.web.bind.annotation.PathVariable;<br><span class=\"hljs-keyword\">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class=\"hljs-keyword\">import</span> org.springframework.web.bind.annotation.ResponseBody;<br><br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * Created by Administrator on 2017/8/16.</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-meta\">@Controller</span><br><span class=\"hljs-meta\">@RequestMapping</span>(value = <span class=\"hljs-string\">\"/user\"</span>)<br><span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">UserController</span> </span>&#123;<br><br>    <span class=\"hljs-meta\">@Autowired</span><br>    <span class=\"hljs-keyword\">private</span> UserService userService;<br><br>    <span class=\"hljs-meta\">@ResponseBody</span><br>    <span class=\"hljs-meta\">@RequestMapping</span>(value = <span class=\"hljs-string\">\"/add\"</span>, produces = &#123;<span class=\"hljs-string\">\"application/json;charset=UTF-8\"</span>&#125;)<br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">addUser</span><span class=\"hljs-params\">(User user)</span></span>&#123;<br>        <span class=\"hljs-keyword\">return</span> userService.addUser(user);<br>    &#125;<br><br>\t<span class=\"hljs-meta\">@ResponseBody</span><br>    <span class=\"hljs-meta\">@RequestMapping</span>(value = <span class=\"hljs-string\">\"/all/&#123;pageNum&#125;/&#123;pageSize&#125;\"</span>, produces = &#123;<span class=\"hljs-string\">\"application/json;charset=UTF-8\"</span>&#125;)<br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> Object <span class=\"hljs-title\">findAllUser</span><span class=\"hljs-params\">(@PathVariable(<span class=\"hljs-string\">\"pageNum\"</span>)</span> <span class=\"hljs-keyword\">int</span> pageNum, @<span class=\"hljs-title\">PathVariable</span><span class=\"hljs-params\">(<span class=\"hljs-string\">\"pageSize\"</span>)</span> <span class=\"hljs-keyword\">int</span> pageSize)</span>&#123;<br><br>        <span class=\"hljs-keyword\">return</span> userService.findAllUser(pageNum,pageSize);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p><strong>UserService.java</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-keyword\">package</span> com.winter.service;<br><br><span class=\"hljs-keyword\">import</span> com.winter.model.User;<br><br><span class=\"hljs-keyword\">import</span> java.util.List;<br><br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * Created by Administrator on 2017/8/16.</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title\">UserService</span> </span>&#123;<br><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">addUser</span><span class=\"hljs-params\">(User user)</span></span>;<br><br>    <span class=\"hljs-function\">List&lt;User&gt; <span class=\"hljs-title\">findAllUser</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> pageNum, <span class=\"hljs-keyword\">int</span> pageSize)</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n\n\n<p><strong>UserServiceImpl.java</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-keyword\">package</span> com.winter.service.impl;<br><br><span class=\"hljs-keyword\">import</span> com.github.pagehelper.PageHelper;<br><span class=\"hljs-keyword\">import</span> com.winter.mapper.UserMapper;<br><span class=\"hljs-keyword\">import</span> com.winter.model.User;<br><span class=\"hljs-keyword\">import</span> com.winter.service.UserService;<br><span class=\"hljs-keyword\">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class=\"hljs-keyword\">import</span> org.springframework.stereotype.Service;<br><br><span class=\"hljs-keyword\">import</span> java.util.List;<br><br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * Created by Administrator on 2017/8/16.</span><br><span class=\"hljs-comment\"> */</span><br><span class=\"hljs-meta\">@Service</span>(value = <span class=\"hljs-string\">\"userService\"</span>)<br><span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">UserServiceImpl</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title\">UserService</span> </span>&#123;<br><br>    <span class=\"hljs-meta\">@Autowired</span><br>    <span class=\"hljs-keyword\">private</span> UserMapper userMapper;<span class=\"hljs-comment\">//这里会报错，但是并不会影响</span><br><br>    <span class=\"hljs-meta\">@Override</span><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">addUser</span><span class=\"hljs-params\">(User user)</span> </span>&#123;<br><br>        <span class=\"hljs-keyword\">return</span> userMapper.insertSelective(user);<br>    &#125;<br><br>    <span class=\"hljs-comment\">/*</span><br><span class=\"hljs-comment\">    * 这个方法中用到了我们开头配置依赖的分页插件pagehelper</span><br><span class=\"hljs-comment\">    * 很简单，只需要在service层传入参数，然后将参数传递给一个插件的一个静态方法即可；</span><br><span class=\"hljs-comment\">    * pageNum 开始页数</span><br><span class=\"hljs-comment\">    * pageSize 每页显示的数据条数</span><br><span class=\"hljs-comment\">    * */</span><br>    <span class=\"hljs-meta\">@Override</span><br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> List&lt;User&gt; <span class=\"hljs-title\">findAllUser</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> pageNum, <span class=\"hljs-keyword\">int</span> pageSize)</span> </span>&#123;<br>        <span class=\"hljs-comment\">//将参数传给这个方法就可以实现物理分页了，非常简单。</span><br>        PageHelper.startPage(pageNum, pageSize);<br>        <span class=\"hljs-keyword\">return</span> userMapper.selectAllUser();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>如果强迫症看不下去那个报错：（解决方法）<br><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046465377128.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<p><strong>测试我使用了idea一个很用心的功能。</strong><br><strong>可以发http请求的插件</strong>：<br><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046466520408.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<p><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046466577040.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">这里写图片描述</span></p>\n<p>点击左侧的运行按钮就可以发送请求了；<br>如果返回值正确 说明你已经搭建成功了！！</p>\n<p><strong>如果大家想使用事务控制的话，请参照<a href=\"http://blog.csdn.net/Winter_chen001/article/details/78622141\" target=\"_blank\" rel=\"noopener\">Spring boot Mybatis 整合（注解版）</a> ,这个里面就有关于事务控制的使用</strong></p>\n<p>源码地址：<a href=\"https://github.com/WinterChenS/springboot-mybatis-demo\" target=\"_blank\" rel=\"noopener\">https://github.com/WinterChenS/springboot-mybatis-demo</a></p>\n","raw":null,"categories":[{"name":"Spring Boot","path":"api/categories/Spring Boot.json"}],"tags":[{"name":"Spring Boot","path":"api/tags/Spring Boot.json"},{"name":"mybatis","path":"api/tags/mybatis.json"}]},{"title":"java优雅的输出helloWorld","slug":"java-print-helloworld","date":"2017-09-25T14:41:00.000Z","updated":"2022-12-01T01:32:39.787Z","comments":true,"top":null,"path":"api/articles/java-print-helloworld.json","excerpt":" [Figure] 在java中很优雅的输出helloworld，可以试一试","keywords":"java,spring,springboot,springcloud,mybatis,jQuery,html,css","cover":"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046462031138.png","content":"<p><img   class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046462268258.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"  alt=\"\"><br>在java中很优雅的输出helloworld，可以试一试</p>\n<a id=\"more\"></a>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Test</span></span>&#123;<br>    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">(String[] args)</span> </span>&#123;<br>    \t\tSystem.out.println(randomString(-<span class=\"hljs-number\">229985452</span>) + <span class=\"hljs-string\">\" \"</span> + randomString(-<span class=\"hljs-number\">147909649</span>));<br>    \t&#125;<br>    \t<br>    \t<span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> String <span class=\"hljs-title\">randomString</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> seed)</span></span>&#123;<br>    \t\tRandom rand = <span class=\"hljs-keyword\">new</span> Random(seed);<br>    \t\tStringBuilder sb = <span class=\"hljs-keyword\">new</span> StringBuilder();<br>    \t\t<span class=\"hljs-keyword\">while</span>(<span class=\"hljs-keyword\">true</span>)&#123;<br>    \t\t\t<span class=\"hljs-keyword\">int</span> n = rand.nextInt(<span class=\"hljs-number\">27</span>);<br>    \t\t\t<span class=\"hljs-keyword\">if</span>(n==<span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">break</span>;<br>    \t\t\tsb.append((<span class=\"hljs-keyword\">char</span>)(<span class=\"hljs-string\">'`'</span>+n));<br>    \t\t\t\t<br>    \t\t&#125;<br>    \t\t<span class=\"hljs-keyword\">return</span> sb.toString();<br>    \t&#125;<br>&#125;<br></code></pre></td></tr></table></figure>","raw":null,"categories":[{"name":"java基础","path":"api/categories/java基础.json"}],"tags":[{"name":"java","path":"api/tags/java.json"}]}]}