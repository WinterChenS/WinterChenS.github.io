{"title":"SpringCloud系列教程开篇","slug":"2021-07-23-spring-cloud-hoxton-1","date":"2021-07-23T08:55:00.000Z","updated":"2022-12-01T01:32:39.783Z","comments":true,"path":"api/articles/2021-07-23-spring-cloud-hoxton-1.json","excerpt":null,"covers":["data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==","data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="],"cover":"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046760324597.jpg","content":"<p>SpringCloud 作为目前最热门的技术之一，拥有众多的开发者的爱戴，开箱即用，简单配置的特性让开发者只需要关注业务代码的开发，无需在繁琐和架构中挣扎。SpringCloud也成为了java开发人员必须了解和使用的技能。</p>\n<p>作为系列的开篇，全系列会介绍hoxton的正式版如何使用，也会对一些组件的原理进行介绍，并且会结合实战中的使用着重讲一讲。本文也会照顾初学者，一些详细的配置会深入浅出。</p>\n<h2 id=\"大纲\"><a href=\"#大纲\" class=\"headerlink\" title=\"大纲\"></a>大纲</h2><ul>\n<li>为什么要学习Spring Cloud</li>\n<li>什么是Spring Cloud</li>\n<li>优缺点</li>\n<li>需要的版本</li>\n<li>组件的介绍</li>\n<li>实战中的应用介绍</li>\n</ul>\n<h2 id=\"为什么要学习springcloud\"><a href=\"#为什么要学习springcloud\" class=\"headerlink\" title=\"为什么要学习springcloud\"></a>为什么要学习springcloud</h2><p>不论是商业应用还是用户应用，在业务初期都很简单，我们通常会把它实现为单体结构的应用。但是，随着业务逐渐发展，产品思想会变得越来越复杂，单体结构的应用也会越来越复杂。这就会给应用带来如下的几个问题：</p>\n<ul>\n<li>代码结构混乱：业务复杂，导致代码量很大，管理会越来越困难。同时，这也会给业务的快速迭代带来巨大挑战；</li>\n<li>开发效率变低：开发人员同时开发一套代码，很难避免代码冲突。开发过程会伴随着不断解决冲突的过程，这会严重的影响开发效率；</li>\n<li>排查解决问题成本高：线上业务发现 bug，修复 bug 的过程可能很简单。但是，由于只有一套代码，需要重新编译、打包、上线，成本很高。</li>\n</ul>\n<p>由于单体结构的应用随着系统复杂度的增高，会暴露出各种各样的问题。近些年来，微服务架构逐渐取代了单体架构，且这种趋势将会越来越流行。Spring Cloud是目前最常用的微服务开发框架，已经在企业级开发中大量的应用。</p>\n<h2 id=\"什么是Spring-Cloud\"><a href=\"#什么是Spring-Cloud\" class=\"headerlink\" title=\"什么是Spring Cloud\"></a>什么是Spring Cloud</h2><p>Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发，如服务发现注册、配置中心、智能路由、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring Cloud并没有重复制造轮子，它只是将各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。</p>\n<h2 id=\"优缺点\"><a href=\"#优缺点\" class=\"headerlink\" title=\"优缺点\"></a>优缺点</h2><h3 id=\"优点：\"><a href=\"#优点：\" class=\"headerlink\" title=\"优点：\"></a>优点：</h3><ul>\n<li>产出于Spring大家族，Spring在企业级开发框架中无人能敌，来头很大，可以保证后续的更新、完善</li>\n<li>组件丰富，功能齐全。Spring Cloud 为微服务架构提供了非常完整的支持。例如、配置管理、服务发现、断路器、微服务网关等；</li>\n<li>Spring Cloud 社区活跃度很高，教程很丰富，遇到问题很容易找到解决方案</li>\n<li>服务拆分粒度更细，耦合度比较低，有利于资源重复利用，有利于提高开发效率</li>\n<li>可以更精准的制定优化服务方案，提高系统的可维护性</li>\n<li>减轻团队的成本，可以并行开发，不用关注其他人怎么开发，先关注自己的开发</li>\n<li>微服务可以是跨平台的，可以用任何一种语言开发</li>\n<li>适于互联网时代，产品迭代周期更短</li>\n</ul>\n<h3 id=\"缺点：\"><a href=\"#缺点：\" class=\"headerlink\" title=\"缺点：\"></a>缺点：</h3><ul>\n<li>微服务过多，治理成本高，不利于维护系统</li>\n<li>分布式系统开发的成本高(容错，分布式事务等)对团队挑战大</li>\n</ul>\n<p>总的来说优点大过于缺点，目前看来Spring Cloud是一套非常完善的分布式框架，目前很多企业开始用微服务、Spring Cloud的优势是显而易见的。因此对于想研究微服务架构的同学来说，学习Spring Cloud是一个不错的选择。</p>\n<h2 id=\"版本\"><a href=\"#版本\" class=\"headerlink\" title=\"版本\"></a>版本</h2><p>本次教程以Hoxton最新的RELEASE版本进行整合。</p>\n<h3 id=\"为什么使用Hoxton版本？\"><a href=\"#为什么使用Hoxton版本？\" class=\"headerlink\" title=\"为什么使用Hoxton版本？\"></a>为什么使用Hoxton版本？</h3><p>因为springboot作为springcloud底层基础设施，所以springcloud与springboot版本需要正确的兼容，不然会在整合的过程中出现很多的问题，各种<code>class not found</code>，<code>method not found</code>。回到问题本身，为什么要使用hoxton版本，那是因为直到目前为止，官方更新的稳定版只有hoxton.release，在生产环境中，最好要使用release版本。</p>\n<h3 id=\"那么初学者如何快速找到合适的版本呢？\"><a href=\"#那么初学者如何快速找到合适的版本呢？\" class=\"headerlink\" title=\"那么初学者如何快速找到合适的版本呢？\"></a>那么初学者如何快速找到合适的版本呢？</h3><p>当然是查看<a href=\"https://spring.io/projects/spring-cloud\" target=\"_blank\" rel=\"noopener\">官方文档</a>了</p>\n<table>\n<thead>\n<tr>\n<th>Release Train</th>\n<th>Boot Version</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><a href=\"https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2020.0-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2020.0-Release-Notes</a> aka Ilford</td>\n<td>2.4.x, 2.5.x (Starting with 2020.0.3)</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-Hoxton-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-Hoxton-Release-Notes</a></td>\n<td>2.2.x, 2.3.x (Starting with SR5)</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Greenwich-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Greenwich-Release-Notes</a></td>\n<td>2.1.x</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Finchley-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Finchley-Release-Notes</a></td>\n<td>2.0.x</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Edgware-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Edgware-Release-Notes</a></td>\n<td>1.5.x</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Dalston-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Dalston-Release-Notes</a></td>\n<td>1.5.x</td>\n</tr>\n</tbody></table>\n<p><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046454878575.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">springcloud版本</span></p>\n<p>由此可以看出最新的稳定版。</p>\n<h2 id=\"组件的介绍\"><a href=\"#组件的介绍\" class=\"headerlink\" title=\"组件的介绍\"></a>组件的介绍</h2><p>springcloud家族有着众多的组件，不可能所有的组件都是我们适用的，需要结合业务选择合适的组件使用，其他的组件可以了解一下，后面的教程会结合目前比较热门的方案进行整合使用，下面的表是比较热门的组件介绍：</p>\n<table>\n<thead>\n<tr>\n<th>组件名</th>\n<th>功能</th>\n<th>简介</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>spring-cloud-starter-alibaba-nacos-config</td>\n<td>配置中心</td>\n<td>阿里巴巴开源的nacos配置中心，简单易用，稳定可靠。</td>\n</tr>\n<tr>\n<td>spring-cloud-starter-alibaba-nacos-discovery</td>\n<td>服务注册与发现（注册中心）</td>\n<td>阿里巴巴开源的nacox注册中心，非常稳定，速度快。</td>\n</tr>\n<tr>\n<td>spring-cloud-openfeign</td>\n<td>服务远程调用，服务熔断，负载均衡</td>\n<td></td>\n</tr>\n<tr>\n<td>spring-cloud-gateway</td>\n<td>服务网关</td>\n<td>负责服务的路由，限流，权限验证，请求过滤</td>\n</tr>\n<tr>\n<td>spring-cloud-starter-alibaba-sentinel</td>\n<td>服务限流</td>\n<td>阿里巴巴开源</td>\n</tr>\n<tr>\n<td>spring-cloud-starter-alibaba-seata</td>\n<td>分布式事务组件</td>\n<td>阿里巴巴开源</td>\n</tr>\n</tbody></table>\n<p>其它的组件后续会继续讲解。</p>\n<h2 id=\"实战中的应用\"><a href=\"#实战中的应用\" class=\"headerlink\" title=\"实战中的应用\"></a>实战中的应用</h2><p>先看一张技术架构图：</p>\n<p><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046455117574.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">spring cloud 技术架构图</span></p>\n<p>假设现在有一个请求过来，</p>\n<ul>\n<li>第一站到达gateway网关，gateway负责请求的路由（请求到具体的服务节点），限流权限验证（登录，权限），请求过滤；</li>\n<li>第二站，路由到了具体的服务，比如用户中心，用户中心调用课程管理中心接口，课程管理中心服务有很多节点，具体选择哪个节点呢？这时候需要服务的负载均衡，ribbon根据具体的策略进行服务的负载。</li>\n<li>如果请求课程管理中心服务的节点超时异常，那么feign集成的hystrix负责服务的熔断，如果不熔断会导致请求阻塞，请求一直积压，最终会导致整个服务器集群宕机，有了服务熔断机制，当服务不可用的时候会将节点设置为不可用状态，并将请求打到其它可用节点，后续会轮询该节点，如果可用会恢复到可用状态。</li>\n</ul>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>讲到了为何使用springcloud以及基础组件的介绍，后续会更加深入的讲解组件的使用。</p>\n<p>搭建源码地址：<a href=\"https://github.com/WinterChenS/spring-cloud-hoxton-study\" target=\"_blank\" rel=\"noopener\">WinterChenS/spring-cloud-hoxton-study</a></p>\n<h3 id=\"参考文档：\"><a href=\"#参考文档：\" class=\"headerlink\" title=\"参考文档：\"></a>参考文档：</h3><p><a href=\"https://spring.io/projects/spring-cloud\" target=\"_blank\" rel=\"noopener\">Spring Cloud</a></p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-Hoxton-Release-Notes\" target=\"_blank\" rel=\"noopener\">Spring Cloud Hoxton Release Notes · spring-cloud/spring-cloud-release Wiki</a></p>\n<p><a href=\"https://blog.csdn.net/weixin_39786341/article/details/111392364\" target=\"_blank\" rel=\"noopener\">springcloud 版本</a></p>\n","more":"<p>SpringCloud 作为目前最热门的技术之一，拥有众多的开发者的爱戴，开箱即用，简单配置的特性让开发者只需要关注业务代码的开发，无需在繁琐和架构中挣扎。SpringCloud也成为了java开发人员必须了解和使用的技能。</p>\n<p>作为系列的开篇，全系列会介绍hoxton的正式版如何使用，也会对一些组件的原理进行介绍，并且会结合实战中的使用着重讲一讲。本文也会照顾初学者，一些详细的配置会深入浅出。</p>\n<h2 id=\"大纲\"><a href=\"#大纲\" class=\"headerlink\" title=\"大纲\"></a>大纲</h2><ul>\n<li>为什么要学习Spring Cloud</li>\n<li>什么是Spring Cloud</li>\n<li>优缺点</li>\n<li>需要的版本</li>\n<li>组件的介绍</li>\n<li>实战中的应用介绍</li>\n</ul>\n<h2 id=\"为什么要学习springcloud\"><a href=\"#为什么要学习springcloud\" class=\"headerlink\" title=\"为什么要学习springcloud\"></a>为什么要学习springcloud</h2><p>不论是商业应用还是用户应用，在业务初期都很简单，我们通常会把它实现为单体结构的应用。但是，随着业务逐渐发展，产品思想会变得越来越复杂，单体结构的应用也会越来越复杂。这就会给应用带来如下的几个问题：</p>\n<ul>\n<li>代码结构混乱：业务复杂，导致代码量很大，管理会越来越困难。同时，这也会给业务的快速迭代带来巨大挑战；</li>\n<li>开发效率变低：开发人员同时开发一套代码，很难避免代码冲突。开发过程会伴随着不断解决冲突的过程，这会严重的影响开发效率；</li>\n<li>排查解决问题成本高：线上业务发现 bug，修复 bug 的过程可能很简单。但是，由于只有一套代码，需要重新编译、打包、上线，成本很高。</li>\n</ul>\n<p>由于单体结构的应用随着系统复杂度的增高，会暴露出各种各样的问题。近些年来，微服务架构逐渐取代了单体架构，且这种趋势将会越来越流行。Spring Cloud是目前最常用的微服务开发框架，已经在企业级开发中大量的应用。</p>\n<h2 id=\"什么是Spring-Cloud\"><a href=\"#什么是Spring-Cloud\" class=\"headerlink\" title=\"什么是Spring Cloud\"></a>什么是Spring Cloud</h2><p>Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发，如服务发现注册、配置中心、智能路由、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring Cloud并没有重复制造轮子，它只是将各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。</p>\n<h2 id=\"优缺点\"><a href=\"#优缺点\" class=\"headerlink\" title=\"优缺点\"></a>优缺点</h2><h3 id=\"优点：\"><a href=\"#优点：\" class=\"headerlink\" title=\"优点：\"></a>优点：</h3><ul>\n<li>产出于Spring大家族，Spring在企业级开发框架中无人能敌，来头很大，可以保证后续的更新、完善</li>\n<li>组件丰富，功能齐全。Spring Cloud 为微服务架构提供了非常完整的支持。例如、配置管理、服务发现、断路器、微服务网关等；</li>\n<li>Spring Cloud 社区活跃度很高，教程很丰富，遇到问题很容易找到解决方案</li>\n<li>服务拆分粒度更细，耦合度比较低，有利于资源重复利用，有利于提高开发效率</li>\n<li>可以更精准的制定优化服务方案，提高系统的可维护性</li>\n<li>减轻团队的成本，可以并行开发，不用关注其他人怎么开发，先关注自己的开发</li>\n<li>微服务可以是跨平台的，可以用任何一种语言开发</li>\n<li>适于互联网时代，产品迭代周期更短</li>\n</ul>\n<h3 id=\"缺点：\"><a href=\"#缺点：\" class=\"headerlink\" title=\"缺点：\"></a>缺点：</h3><ul>\n<li>微服务过多，治理成本高，不利于维护系统</li>\n<li>分布式系统开发的成本高(容错，分布式事务等)对团队挑战大</li>\n</ul>\n<p>总的来说优点大过于缺点，目前看来Spring Cloud是一套非常完善的分布式框架，目前很多企业开始用微服务、Spring Cloud的优势是显而易见的。因此对于想研究微服务架构的同学来说，学习Spring Cloud是一个不错的选择。</p>\n<h2 id=\"版本\"><a href=\"#版本\" class=\"headerlink\" title=\"版本\"></a>版本</h2><p>本次教程以Hoxton最新的RELEASE版本进行整合。</p>\n<h3 id=\"为什么使用Hoxton版本？\"><a href=\"#为什么使用Hoxton版本？\" class=\"headerlink\" title=\"为什么使用Hoxton版本？\"></a>为什么使用Hoxton版本？</h3><p>因为springboot作为springcloud底层基础设施，所以springcloud与springboot版本需要正确的兼容，不然会在整合的过程中出现很多的问题，各种<code>class not found</code>，<code>method not found</code>。回到问题本身，为什么要使用hoxton版本，那是因为直到目前为止，官方更新的稳定版只有hoxton.release，在生产环境中，最好要使用release版本。</p>\n<h3 id=\"那么初学者如何快速找到合适的版本呢？\"><a href=\"#那么初学者如何快速找到合适的版本呢？\" class=\"headerlink\" title=\"那么初学者如何快速找到合适的版本呢？\"></a>那么初学者如何快速找到合适的版本呢？</h3><p>当然是查看<a href=\"https://spring.io/projects/spring-cloud\" target=\"_blank\" rel=\"noopener\">官方文档</a>了</p>\n<table>\n<thead>\n<tr>\n<th>Release Train</th>\n<th>Boot Version</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><a href=\"https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2020.0-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2020.0-Release-Notes</a> aka Ilford</td>\n<td>2.4.x, 2.5.x (Starting with 2020.0.3)</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-Hoxton-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-Hoxton-Release-Notes</a></td>\n<td>2.2.x, 2.3.x (Starting with SR5)</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Greenwich-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Greenwich-Release-Notes</a></td>\n<td>2.1.x</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Finchley-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Finchley-Release-Notes</a></td>\n<td>2.0.x</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Edgware-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Edgware-Release-Notes</a></td>\n<td>1.5.x</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Dalston-Release-Notes\" target=\"_blank\" rel=\"noopener\">https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Dalston-Release-Notes</a></td>\n<td>1.5.x</td>\n</tr>\n</tbody></table>\n<p><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046454878575.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">springcloud版本</span></p>\n<p>由此可以看出最新的稳定版。</p>\n<h2 id=\"组件的介绍\"><a href=\"#组件的介绍\" class=\"headerlink\" title=\"组件的介绍\"></a>组件的介绍</h2><p>springcloud家族有着众多的组件，不可能所有的组件都是我们适用的，需要结合业务选择合适的组件使用，其他的组件可以了解一下，后面的教程会结合目前比较热门的方案进行整合使用，下面的表是比较热门的组件介绍：</p>\n<table>\n<thead>\n<tr>\n<th>组件名</th>\n<th>功能</th>\n<th>简介</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>spring-cloud-starter-alibaba-nacos-config</td>\n<td>配置中心</td>\n<td>阿里巴巴开源的nacos配置中心，简单易用，稳定可靠。</td>\n</tr>\n<tr>\n<td>spring-cloud-starter-alibaba-nacos-discovery</td>\n<td>服务注册与发现（注册中心）</td>\n<td>阿里巴巴开源的nacox注册中心，非常稳定，速度快。</td>\n</tr>\n<tr>\n<td>spring-cloud-openfeign</td>\n<td>服务远程调用，服务熔断，负载均衡</td>\n<td></td>\n</tr>\n<tr>\n<td>spring-cloud-gateway</td>\n<td>服务网关</td>\n<td>负责服务的路由，限流，权限验证，请求过滤</td>\n</tr>\n<tr>\n<td>spring-cloud-starter-alibaba-sentinel</td>\n<td>服务限流</td>\n<td>阿里巴巴开源</td>\n</tr>\n<tr>\n<td>spring-cloud-starter-alibaba-seata</td>\n<td>分布式事务组件</td>\n<td>阿里巴巴开源</td>\n</tr>\n</tbody></table>\n<p>其它的组件后续会继续讲解。</p>\n<h2 id=\"实战中的应用\"><a href=\"#实战中的应用\" class=\"headerlink\" title=\"实战中的应用\"></a>实战中的应用</h2><p>先看一张技术架构图：</p>\n<p><img    class=\"lazyload\" data-original=\"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046455117574.png\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">spring cloud 技术架构图</span></p>\n<p>假设现在有一个请求过来，</p>\n<ul>\n<li>第一站到达gateway网关，gateway负责请求的路由（请求到具体的服务节点），限流权限验证（登录，权限），请求过滤；</li>\n<li>第二站，路由到了具体的服务，比如用户中心，用户中心调用课程管理中心接口，课程管理中心服务有很多节点，具体选择哪个节点呢？这时候需要服务的负载均衡，ribbon根据具体的策略进行服务的负载。</li>\n<li>如果请求课程管理中心服务的节点超时异常，那么feign集成的hystrix负责服务的熔断，如果不熔断会导致请求阻塞，请求一直积压，最终会导致整个服务器集群宕机，有了服务熔断机制，当服务不可用的时候会将节点设置为不可用状态，并将请求打到其它可用节点，后续会轮询该节点，如果可用会恢复到可用状态。</li>\n</ul>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>讲到了为何使用springcloud以及基础组件的介绍，后续会更加深入的讲解组件的使用。</p>\n<p>搭建源码地址：<a href=\"https://github.com/WinterChenS/spring-cloud-hoxton-study\" target=\"_blank\" rel=\"noopener\">WinterChenS/spring-cloud-hoxton-study</a></p>\n<h3 id=\"参考文档：\"><a href=\"#参考文档：\" class=\"headerlink\" title=\"参考文档：\"></a>参考文档：</h3><p><a href=\"https://spring.io/projects/spring-cloud\" target=\"_blank\" rel=\"noopener\">Spring Cloud</a></p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-Hoxton-Release-Notes\" target=\"_blank\" rel=\"noopener\">Spring Cloud Hoxton Release Notes · spring-cloud/spring-cloud-release Wiki</a></p>\n<p><a href=\"https://blog.csdn.net/weixin_39786341/article/details/111392364\" target=\"_blank\" rel=\"noopener\">springcloud 版本</a></p>\n","categories":[{"name":"springcloud","path":"api/categories/springcloud.json"}],"tags":[{"name":"springcloud","path":"api/tags/springcloud.json"}]}