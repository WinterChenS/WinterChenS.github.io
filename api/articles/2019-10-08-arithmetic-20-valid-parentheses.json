{"title":"每日一道算法题-有效的括号","slug":"2019-10-08-arithmetic-20-valid-parentheses","date":"2019-10-08T10:35:00.000Z","updated":"2022-12-01T01:32:39.783Z","comments":true,"path":"api/articles/2019-10-08-arithmetic-20-valid-parentheses.json","excerpt":null,"covers":["data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="],"cover":"https://cdn.jsdelivr.net/gh/WinterChenS/img/posts/1628046710410406.jpg","content":"<h3 id=\"题目描述\"><a href=\"#题目描述\" class=\"headerlink\" title=\"题目描述\"></a>题目描述</h3><p>给定一个只包括 <code>&#39;(&#39;，&#39;)&#39;，&#39;{&#39;，&#39;}&#39;，&#39;[&#39;，&#39;]&#39;</code> 的字符串，判断字符串是否有效。</p>\n<p>有效字符串需满足：</p>\n<pre><code>左括号必须用相同类型的右括号闭合。\n左括号必须以正确的顺序闭合。</code></pre><p>注意空字符串可被认为是有效字符串。</p>\n<p>示例 1:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">输入: &quot;()&quot;<br>输出: true<br></code></pre></td></tr></table></figure>\n<p>示例 2:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">输入: &quot;()[]&#123;&#125;&quot;<br>输出: true<br></code></pre></td></tr></table></figure>\n<p>示例 3:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">输入: &quot;(]&quot;<br>输出: false<br></code></pre></td></tr></table></figure>\n<p>示例 4:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">输入: &quot;([)]&quot;<br>输出: false<br></code></pre></td></tr></table></figure>\n<p>示例 5:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">输入: &quot;&#123;[]&#125;&quot;<br>输出: true<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"解题思路\"><a href=\"#解题思路\" class=\"headerlink\" title=\"解题思路\"></a>解题思路</h3><ul>\n<li>使用stack</li>\n<li>遍历字符串</li>\n<li>如果当前字符为左半边括号是，则将其压入栈中</li>\n<li>如果是右括号时，分类讨论：<ul>\n<li>如栈不为空且为对应的左半边括号，则取出栈顶元素，继续循环</li>\n<li>若此时栈为空，则直接返回false</li>\n<li>若不为对应的左半边括号，返回false</li>\n</ul>\n</li>\n</ul>\n<p><img    class=\"lazyload\" data-original=\"https://raw.githubusercontent.com/azl397985856/leetcode/master/assets/20.validParentheses.gif\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">图解</span></p>\n<h3 id=\"示例代码\"><a href=\"#示例代码\" class=\"headerlink\" title=\"示例代码\"></a>示例代码</h3><h4 id=\"java\"><a href=\"#java\" class=\"headerlink\" title=\"java\"></a>java</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">boolean</span> <span class=\"hljs-title\">isValid</span><span class=\"hljs-params\">(String s)</span></span>&#123;<br>        <span class=\"hljs-keyword\">if</span> (!StringUtils.hasText(s)) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>        Stack&lt;Character&gt; stack = <span class=\"hljs-keyword\">new</span> Stack&lt;&gt;();<span class=\"hljs-comment\">//定义一个stack</span><br>        <span class=\"hljs-keyword\">char</span>[] chars = s.toCharArray();<br>        Map&lt;Character, Character&gt; map = <span class=\"hljs-keyword\">new</span> HashMap&lt;&gt;();<span class=\"hljs-comment\">//hash表</span><br>        map.put(<span class=\"hljs-string\">'('</span>,<span class=\"hljs-string\">')'</span>);<br>        map.put(<span class=\"hljs-string\">'['</span>,<span class=\"hljs-string\">']'</span>);<br>        map.put(<span class=\"hljs-string\">'&#123;'</span>,<span class=\"hljs-string\">'&#125;'</span>);<br>        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">char</span> aChar : chars) &#123;<br>            <span class=\"hljs-comment\">// 如果是左半边括号，则压入栈</span><br>            <span class=\"hljs-keyword\">if</span> (map.containsKey(aChar))&#123;<br>                stack.push(aChar);<br>            &#125; <span class=\"hljs-keyword\">else</span> &#123;<span class=\"hljs-comment\">// 不是左半边括号</span><br>                <span class=\"hljs-comment\">// 只有栈中有左半边才有效</span><br>                <span class=\"hljs-keyword\">if</span> (stack.size() != <span class=\"hljs-number\">0</span>)&#123;<br>                    <span class=\"hljs-comment\">// 出栈</span><br>                    Character pop = stack.pop();<br>                    <span class=\"hljs-comment\">// 如果右半边与左半边无法对应则返回false</span><br>                    <span class=\"hljs-keyword\">if</span> (!map.get(pop).equals(aChar))&#123;<br>                        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>                    &#125;<span class=\"hljs-keyword\">else</span> &#123;<span class=\"hljs-comment\">// 继续循环</span><br>                        <span class=\"hljs-keyword\">continue</span>;<br>                    &#125;<br>                &#125;<span class=\"hljs-keyword\">else</span> &#123;<br>                    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class=\"hljs-comment\">// 左半边括号全部出栈表示两边对应上</span><br>        <span class=\"hljs-keyword\">return</span> stack.isEmpty();<br>    &#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h4><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\"><br><span class=\"hljs-keyword\">var</span> isValid = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">s</span>) </span>&#123;<br>    <span class=\"hljs-keyword\">let</span> valid = <span class=\"hljs-literal\">true</span>;<br>    <span class=\"hljs-keyword\">const</span> stack = [];<br>    <span class=\"hljs-keyword\">const</span> mapper = &#123;<br>        <span class=\"hljs-string\">'&#123;'</span>: <span class=\"hljs-string\">\"&#125;\"</span>,<br>        <span class=\"hljs-string\">\"[\"</span>: <span class=\"hljs-string\">\"]\"</span>,<br>        <span class=\"hljs-string\">\"(\"</span>: <span class=\"hljs-string\">\")\"</span><br>    &#125;<br>    <br>    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> i <span class=\"hljs-keyword\">in</span> s) &#123;<br>        <span class=\"hljs-keyword\">const</span> v = s[i];<br>        <span class=\"hljs-keyword\">if</span> ([<span class=\"hljs-string\">'('</span>, <span class=\"hljs-string\">'['</span>, <span class=\"hljs-string\">'&#123;'</span>].indexOf(v) &gt; <span class=\"hljs-number\">-1</span>) &#123;<br>            stack.push(v);<br>        &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>            <span class=\"hljs-keyword\">const</span> peak = stack.pop();<br>            <span class=\"hljs-keyword\">if</span> (v !== mapper[peak]) &#123;<br>                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">if</span> (stack.length &gt; <span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;<br><br>    <span class=\"hljs-keyword\">return</span> valid;<br>&#125;;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"python\"><a href=\"#python\" class=\"headerlink\" title=\"python\"></a>python</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Solution</span>:</span><br>       <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">isValid</span><span class=\"hljs-params\">(self,s)</span>:</span><br>         stack = []<br>         map = &#123;<br>           <span class=\"hljs-string\">\"&#123;\"</span>:<span class=\"hljs-string\">\"&#125;\"</span>,<br>           <span class=\"hljs-string\">\"[\"</span>:<span class=\"hljs-string\">\"]\"</span>,<br>           <span class=\"hljs-string\">\"(\"</span>:<span class=\"hljs-string\">\")\"</span><br>         &#125;<br>         <span class=\"hljs-keyword\">for</span> x <span class=\"hljs-keyword\">in</span> s:<br>           <span class=\"hljs-keyword\">if</span> x <span class=\"hljs-keyword\">in</span> map:<br>             stack.append(map[x])<br>           <span class=\"hljs-keyword\">else</span>:<br>             <span class=\"hljs-keyword\">if</span> len(stack)!=<span class=\"hljs-number\">0</span>:<br>               top_element = stack.pop()<br>               <span class=\"hljs-keyword\">if</span> x != top_element:<br>                 <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span><br>               <span class=\"hljs-keyword\">else</span>:<br>                 <span class=\"hljs-keyword\">continue</span><br>             <span class=\"hljs-keyword\">else</span>:<br>               <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span><br>         <span class=\"hljs-keyword\">return</span> len(stack) == <span class=\"hljs-number\">0</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"扩展\"><a href=\"#扩展\" class=\"headerlink\" title=\"扩展\"></a>扩展</h3><p>以上的代码只能针对左右完全对应上，并且中间不能出现任何字符，所以这里我想拓展一下，就像代码中一样，括号能对应上并且中间有代码；</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">boolean</span> <span class=\"hljs-title\">isValid</span><span class=\"hljs-params\">(String s)</span></span>&#123;<br>        <span class=\"hljs-keyword\">if</span> (!StringUtils.hasText(s)) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>        Stack&lt;Character&gt; stack = <span class=\"hljs-keyword\">new</span> Stack&lt;&gt;();<br>        <span class=\"hljs-keyword\">char</span>[] chars = s.toCharArray();<br>        Map&lt;Character, Character&gt; map = <span class=\"hljs-keyword\">new</span> HashMap&lt;&gt;();<br>        map.put(<span class=\"hljs-string\">'('</span>,<span class=\"hljs-string\">')'</span>);<br>        map.put(<span class=\"hljs-string\">'['</span>,<span class=\"hljs-string\">']'</span>);<br>        map.put(<span class=\"hljs-string\">'&#123;'</span>,<span class=\"hljs-string\">'&#125;'</span>);<br>        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">char</span> aChar : chars) &#123;<br>            <span class=\"hljs-keyword\">if</span> (map.containsKey(aChar))&#123;<br>                stack.push(aChar);<br>            &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>                <span class=\"hljs-keyword\">if</span> (stack.size() != <span class=\"hljs-number\">0</span> &amp;&amp; map.containsValue(aChar))&#123;<br>                    Character pop = stack.pop();<br>                    <span class=\"hljs-keyword\">if</span> (!map.get(pop).equals(aChar))&#123;<br>                        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>                    &#125;<span class=\"hljs-keyword\">else</span> &#123;<br>                        <span class=\"hljs-keyword\">continue</span>;<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class=\"hljs-keyword\">return</span> stack.isEmpty();<br>    &#125;<br></code></pre></td></tr></table></figure>\n\n<p>输入：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">&quot;&#123;[(234)]&#125;&quot;<br></code></pre></td></tr></table></figure>\n\n<p>输出：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">true<br></code></pre></td></tr></table></figure>","more":"<h3 id=\"题目描述\"><a href=\"#题目描述\" class=\"headerlink\" title=\"题目描述\"></a>题目描述</h3><p>给定一个只包括 <code>&#39;(&#39;，&#39;)&#39;，&#39;{&#39;，&#39;}&#39;，&#39;[&#39;，&#39;]&#39;</code> 的字符串，判断字符串是否有效。</p>\n<p>有效字符串需满足：</p>\n<pre><code>左括号必须用相同类型的右括号闭合。\n左括号必须以正确的顺序闭合。</code></pre><p>注意空字符串可被认为是有效字符串。</p>\n<p>示例 1:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">输入: &quot;()&quot;<br>输出: true<br></code></pre></td></tr></table></figure>\n<p>示例 2:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">输入: &quot;()[]&#123;&#125;&quot;<br>输出: true<br></code></pre></td></tr></table></figure>\n<p>示例 3:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">输入: &quot;(]&quot;<br>输出: false<br></code></pre></td></tr></table></figure>\n<p>示例 4:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">输入: &quot;([)]&quot;<br>输出: false<br></code></pre></td></tr></table></figure>\n<p>示例 5:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">输入: &quot;&#123;[]&#125;&quot;<br>输出: true<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"解题思路\"><a href=\"#解题思路\" class=\"headerlink\" title=\"解题思路\"></a>解题思路</h3><ul>\n<li>使用stack</li>\n<li>遍历字符串</li>\n<li>如果当前字符为左半边括号是，则将其压入栈中</li>\n<li>如果是右括号时，分类讨论：<ul>\n<li>如栈不为空且为对应的左半边括号，则取出栈顶元素，继续循环</li>\n<li>若此时栈为空，则直接返回false</li>\n<li>若不为对应的左半边括号，返回false</li>\n</ul>\n</li>\n</ul>\n<p><img    class=\"lazyload\" data-original=\"https://raw.githubusercontent.com/azl397985856/leetcode/master/assets/20.validParentheses.gif\" src=\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==\"   ><span class=\"image-caption\">图解</span></p>\n<h3 id=\"示例代码\"><a href=\"#示例代码\" class=\"headerlink\" title=\"示例代码\"></a>示例代码</h3><h4 id=\"java\"><a href=\"#java\" class=\"headerlink\" title=\"java\"></a>java</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">boolean</span> <span class=\"hljs-title\">isValid</span><span class=\"hljs-params\">(String s)</span></span>&#123;<br>        <span class=\"hljs-keyword\">if</span> (!StringUtils.hasText(s)) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>        Stack&lt;Character&gt; stack = <span class=\"hljs-keyword\">new</span> Stack&lt;&gt;();<span class=\"hljs-comment\">//定义一个stack</span><br>        <span class=\"hljs-keyword\">char</span>[] chars = s.toCharArray();<br>        Map&lt;Character, Character&gt; map = <span class=\"hljs-keyword\">new</span> HashMap&lt;&gt;();<span class=\"hljs-comment\">//hash表</span><br>        map.put(<span class=\"hljs-string\">'('</span>,<span class=\"hljs-string\">')'</span>);<br>        map.put(<span class=\"hljs-string\">'['</span>,<span class=\"hljs-string\">']'</span>);<br>        map.put(<span class=\"hljs-string\">'&#123;'</span>,<span class=\"hljs-string\">'&#125;'</span>);<br>        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">char</span> aChar : chars) &#123;<br>            <span class=\"hljs-comment\">// 如果是左半边括号，则压入栈</span><br>            <span class=\"hljs-keyword\">if</span> (map.containsKey(aChar))&#123;<br>                stack.push(aChar);<br>            &#125; <span class=\"hljs-keyword\">else</span> &#123;<span class=\"hljs-comment\">// 不是左半边括号</span><br>                <span class=\"hljs-comment\">// 只有栈中有左半边才有效</span><br>                <span class=\"hljs-keyword\">if</span> (stack.size() != <span class=\"hljs-number\">0</span>)&#123;<br>                    <span class=\"hljs-comment\">// 出栈</span><br>                    Character pop = stack.pop();<br>                    <span class=\"hljs-comment\">// 如果右半边与左半边无法对应则返回false</span><br>                    <span class=\"hljs-keyword\">if</span> (!map.get(pop).equals(aChar))&#123;<br>                        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>                    &#125;<span class=\"hljs-keyword\">else</span> &#123;<span class=\"hljs-comment\">// 继续循环</span><br>                        <span class=\"hljs-keyword\">continue</span>;<br>                    &#125;<br>                &#125;<span class=\"hljs-keyword\">else</span> &#123;<br>                    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class=\"hljs-comment\">// 左半边括号全部出栈表示两边对应上</span><br>        <span class=\"hljs-keyword\">return</span> stack.isEmpty();<br>    &#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"js\"><a href=\"#js\" class=\"headerlink\" title=\"js\"></a>js</h4><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\"><br><span class=\"hljs-keyword\">var</span> isValid = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">s</span>) </span>&#123;<br>    <span class=\"hljs-keyword\">let</span> valid = <span class=\"hljs-literal\">true</span>;<br>    <span class=\"hljs-keyword\">const</span> stack = [];<br>    <span class=\"hljs-keyword\">const</span> mapper = &#123;<br>        <span class=\"hljs-string\">'&#123;'</span>: <span class=\"hljs-string\">\"&#125;\"</span>,<br>        <span class=\"hljs-string\">\"[\"</span>: <span class=\"hljs-string\">\"]\"</span>,<br>        <span class=\"hljs-string\">\"(\"</span>: <span class=\"hljs-string\">\")\"</span><br>    &#125;<br>    <br>    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> i <span class=\"hljs-keyword\">in</span> s) &#123;<br>        <span class=\"hljs-keyword\">const</span> v = s[i];<br>        <span class=\"hljs-keyword\">if</span> ([<span class=\"hljs-string\">'('</span>, <span class=\"hljs-string\">'['</span>, <span class=\"hljs-string\">'&#123;'</span>].indexOf(v) &gt; <span class=\"hljs-number\">-1</span>) &#123;<br>            stack.push(v);<br>        &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>            <span class=\"hljs-keyword\">const</span> peak = stack.pop();<br>            <span class=\"hljs-keyword\">if</span> (v !== mapper[peak]) &#123;<br>                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">if</span> (stack.length &gt; <span class=\"hljs-number\">0</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;<br><br>    <span class=\"hljs-keyword\">return</span> valid;<br>&#125;;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"python\"><a href=\"#python\" class=\"headerlink\" title=\"python\"></a>python</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Solution</span>:</span><br>       <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">isValid</span><span class=\"hljs-params\">(self,s)</span>:</span><br>         stack = []<br>         map = &#123;<br>           <span class=\"hljs-string\">\"&#123;\"</span>:<span class=\"hljs-string\">\"&#125;\"</span>,<br>           <span class=\"hljs-string\">\"[\"</span>:<span class=\"hljs-string\">\"]\"</span>,<br>           <span class=\"hljs-string\">\"(\"</span>:<span class=\"hljs-string\">\")\"</span><br>         &#125;<br>         <span class=\"hljs-keyword\">for</span> x <span class=\"hljs-keyword\">in</span> s:<br>           <span class=\"hljs-keyword\">if</span> x <span class=\"hljs-keyword\">in</span> map:<br>             stack.append(map[x])<br>           <span class=\"hljs-keyword\">else</span>:<br>             <span class=\"hljs-keyword\">if</span> len(stack)!=<span class=\"hljs-number\">0</span>:<br>               top_element = stack.pop()<br>               <span class=\"hljs-keyword\">if</span> x != top_element:<br>                 <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span><br>               <span class=\"hljs-keyword\">else</span>:<br>                 <span class=\"hljs-keyword\">continue</span><br>             <span class=\"hljs-keyword\">else</span>:<br>               <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span><br>         <span class=\"hljs-keyword\">return</span> len(stack) == <span class=\"hljs-number\">0</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"扩展\"><a href=\"#扩展\" class=\"headerlink\" title=\"扩展\"></a>扩展</h3><p>以上的代码只能针对左右完全对应上，并且中间不能出现任何字符，所以这里我想拓展一下，就像代码中一样，括号能对应上并且中间有代码；</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">boolean</span> <span class=\"hljs-title\">isValid</span><span class=\"hljs-params\">(String s)</span></span>&#123;<br>        <span class=\"hljs-keyword\">if</span> (!StringUtils.hasText(s)) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>        Stack&lt;Character&gt; stack = <span class=\"hljs-keyword\">new</span> Stack&lt;&gt;();<br>        <span class=\"hljs-keyword\">char</span>[] chars = s.toCharArray();<br>        Map&lt;Character, Character&gt; map = <span class=\"hljs-keyword\">new</span> HashMap&lt;&gt;();<br>        map.put(<span class=\"hljs-string\">'('</span>,<span class=\"hljs-string\">')'</span>);<br>        map.put(<span class=\"hljs-string\">'['</span>,<span class=\"hljs-string\">']'</span>);<br>        map.put(<span class=\"hljs-string\">'&#123;'</span>,<span class=\"hljs-string\">'&#125;'</span>);<br>        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">char</span> aChar : chars) &#123;<br>            <span class=\"hljs-keyword\">if</span> (map.containsKey(aChar))&#123;<br>                stack.push(aChar);<br>            &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>                <span class=\"hljs-keyword\">if</span> (stack.size() != <span class=\"hljs-number\">0</span> &amp;&amp; map.containsValue(aChar))&#123;<br>                    Character pop = stack.pop();<br>                    <span class=\"hljs-keyword\">if</span> (!map.get(pop).equals(aChar))&#123;<br>                        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">false</span>;<br>                    &#125;<span class=\"hljs-keyword\">else</span> &#123;<br>                        <span class=\"hljs-keyword\">continue</span>;<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class=\"hljs-keyword\">return</span> stack.isEmpty();<br>    &#125;<br></code></pre></td></tr></table></figure>\n\n<p>输入：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">&quot;&#123;[(234)]&#125;&quot;<br></code></pre></td></tr></table></figure>\n\n<p>输出：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs plain\">true<br></code></pre></td></tr></table></figure>","categories":[{"name":"算法","path":"api/categories/算法.json"}],"tags":[{"name":"算法","path":"api/tags/算法.json"}]}